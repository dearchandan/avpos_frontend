/* empty css                                                   */import{u as y,b as v,P as i,r as S,e as w,d as I,g as k,p as M,i as s,t as c,j as l,af as B}from"./index.sP6fhsqN.js";import{u as C}from"./subscriptionStore.gDgtsjeY.js";const F={class:"modal fade",id:"forceSignInModal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false"},D={class:"modal-dialog modal-dialog-centered modal-w-1260 modal-md"},N={class:"modal-content"},j={class:"modal-header modal-title border-0"},x={class:"mb-0"},A={class:"modal-body pt-0"},J={class:"row"},O={class:"col-12"},P={class:"fw-bold"},R={class:"row mt-4"},T={class:"col-12"},V=["disabled"],E={__name:"ForceSignInModal",props:["msg","email","password"],setup(d){y();const e=v(),u=C(),n=d,p=i(n,"msg"),m=i(n,"email"),_=i(n,"password");function b(){$("#forceSignInModal").modal("hide")}const r=S(!1),o=w({type:"",messages:""}),g=I(()=>u.cart_subscription_id);async function h(){try{r.value=!0;var a=new FormData;a.append("email",m.value),a.append("password",_.value),a.append("language",localStorage.getItem("language")),a.append("force_sign_in",!0),e.resetState();let t=await e.login(a);if(r.value=!1,t.status_code==200)o.type="success",o.messages=t.msg,e.user.user_type!=1&&e.user.user_type!=4?g.value>0||e.user.merchant.user_subscription!=null&&e.user.user_type==2&&e.user.merchant.user_subscription.status==3||e.user.merchant.user_subscription==null&&e.user.user_type==2?location.href="/subscriptions":location.href="/dashboard":(e.user.user_type==1||e.user.user_type==4)&&(location.href="/admin/dashboard");else try{o.type="error",o.messages=JSON.parse(t.msg)}catch{o.type="error",o.messages=t.msg}}catch(t){o.type="error",o.messages=t,r.value=!1}}return(a,t)=>(k(),M(B,{to:"body"},[s("div",F,[s("div",D,[s("div",N,[s("div",j,[s("h3",x,c(a.$t("Force Sign In")),1),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:b,id:"close_btn"})]),s("div",A,[s("div",J,[s("div",O,[s("p",P,c(l(p)),1)])]),s("div",R,[s("div",T,[s("button",{type:"submit",class:"btn btn-danger w-100",onClick:t[0]||(t[0]=f=>h()),disabled:l(r)},[s("span",null,c(a.$t("Yes, Sign in here")),1)],8,V)])])])])])])]))}};export{E as default};
