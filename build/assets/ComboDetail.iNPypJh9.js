import{_ as P}from"./VTextInput.ZgtOiOMJ.js";import{_ as $}from"./VSelect.c4Loo_XL.js";/* empty css                                                   *//* empty css                                                   */import{u as q,r as i,b as C,d as D,e as E,P as N,o as R,g as h,h as y,i as e,k as c,j as V,t as p,F as B,x as F,l as I}from"./index.GdMxdeuf.js";import"./VTooltip.Ewb958d6.js";import"./vee-validate.esm.9aElOHQY.js";/* empty css                                                                */const M={class:"row card-strash"},Q={class:"col-md-12"},j={class:"row"},z={class:"col-md-5 col-12 mb-4"},L={class:"card"},G={class:"row"},H={class:"col-12 mb-4"},J={class:"text-center"},K=["src"],O={class:"col-12 col-md-6"},W={class:"col-12 col-md-6"},X={class:"col-12 col-md-6"},Y={class:"col-12 pt-6 col-md-6"},Z={class:"form-field mt-4"},ee={class:"form-check form-switch pt-3"},te=["checked"],oe={class:"form-check-label",for:"status"},le={class:"col-12 col-md-6"},ae={class:"col-12 col-md-6"},se={class:"col-12 col-md-6"},ne={class:"col-12 col-md-6"},de={class:"col-md-7 col-12 mb-4"},ce={class:"card"},ie={class:"row"},ue={class:"section-title pb-3 text-muted"},me={class:"table-responsive"},re={class:"table table-hover table-bordered mb-3"},_e={class:"bg-light"},pe={width:"80%"},be={class:"text-right",width:"20%"},ve={"data-title":"Product",width:"20%"},he={"data-title":"Quantity",width:"15%"},Ae={__name:"ComboDetail",props:["combo","combo_products"],setup(l){const{t:d}=q(),s=i({type:d("Type"),select_type:d("Select Type"),name:d("Combo Name"),select_tax:d("Select Tax"),price:d("Price"),tax_amount:d("Tax Amount"),amount:d("Amount"),units:d("Units"),description:d("Description")}),x=C();D(()=>x.user.currency.symbol);const f=E({...{server_messages:{type:"",messages:""}}}),S=l;i(!1);const u=i(!0),g=i(!0);let w=N(S,"combo_products"),b=i([]),U=[{key:1,value:"Simple"},{key:2,value:"Customized"}];const k=i([]);R(()=>{A(),T()});async function A(){_.forEach(x.user.country.taxes,a=>{let t={key:a.id,value:a.name,percentage:a.total_percentage};k.value.push(t)})}async function T(){_.forEach(w.value,a=>{let t=i([]),m=new FormData;m.append("product_slack",a.product.slack),axios.post("/api/product/measurements",m).then(n=>{_.forEach(n.data.data,r=>{let v={key:r.id,value:r.unit_name,id:r.slack};t.value.push(v)});let o={name:a.product.name,quantity:a.quantity,measurement_unit_id:a.measurement_unit_id,sale_price:a.product.sale_price,measurement_units:t};b.value.push(o)}).catch(n=>{f.server_messages.type="error",f.server_messages.messages=n})})}return(a,t)=>{const m=$,n=P;return h(),y("div",M,[e("div",Q,[e("div",j,[e("div",z,[e("div",L,[e("div",G,[e("div",H,[e("div",J,[e("img",{src:l.combo.image},null,8,K)])]),e("div",O,[c(m,{name:"",label:s.value.type,modelValue:l.combo.type,"onUpdate:modelValue":t[0]||(t[0]=o=>l.combo.type=o),placeholder:s.value.select_type,options:V(U),disabled:g.value},null,8,["label","modelValue","placeholder","options","disabled"])]),e("div",W,[c(n,{type:"text",name:"",label:s.value.name,modelValue:l.combo.name,"onUpdate:modelValue":t[1]||(t[1]=o=>l.combo.name=o),readonly:u.value},null,8,["label","modelValue","readonly"])]),e("div",X,[c(n,{type:"text",name:"",modelValue:l.combo.description,"onUpdate:modelValue":t[2]||(t[2]=o=>l.combo.description=o),label:s.value.description,placeholder:s.value.description,readonly:u.value},null,8,["modelValue","label","placeholder","readonly"])]),e("div",Y,[e("div",Z,[e("div",ee,[e("input",{class:"form-check-input me-2",type:"checkbox",role:"switch",id:"status",disabled:"",checked:l.combo.status==1},null,8,te),e("label",oe,p(a.$t("Active")),1)])])]),e("div",le,[c(n,{type:"number",name:"",input_group_text:"SAR",modelValue:l.combo.price,"onUpdate:modelValue":t[3]||(t[3]=o=>l.combo.price=o),min:"0.01",step:"0.01",label:s.value.price,readonly:u.value},null,8,["modelValue","label","readonly"])]),e("div",ae,[c(m,{modelValue:l.combo.tax_id,"onUpdate:modelValue":t[4]||(t[4]=o=>l.combo.tax_id=o),name:"",label:s.value.select_tax,placeholder:s.value.select_tax,options:k.value,disabled:g.value},null,8,["modelValue","label","placeholder","options","disabled"])]),e("div",se,[c(n,{type:"number",name:"",input_group_text:"SAR",modelValue:l.combo.tax_amount,"onUpdate:modelValue":t[5]||(t[5]=o=>l.combo.tax_amount=o),min:"0.01",step:"0.01",label:s.value.tax_amount,readonly:u.value},null,8,["modelValue","label","readonly"])]),e("div",ne,[c(n,{type:"number",name:"",input_group_text:"SAR",modelValue:l.combo.amount,"onUpdate:modelValue":t[6]||(t[6]=o=>l.combo.amount=o),min:"0.01",step:"0.01",label:s.value.amount,readonly:u.value},null,8,["modelValue","label","readonly"])])])])]),e("div",de,[e("div",ce,[e("div",ie,[e("h5",ue,p(a.$t("Products"))+":",1),e("div",me,[e("table",re,[e("thead",_e,[e("tr",null,[e("th",pe,p(a.$t("Product/Service")),1),e("th",be,p(a.$t("Quantity")),1)])]),e("tbody",null,[V(b).length>0?(h(!0),y(B,{key:0},F(V(b),(o,r)=>(h(),y("tr",{key:r},[e("td",ve,p(o.name),1),e("td",he,[c(n,{type:"number",name:"",input_group_text:s.value.units,label:"",modelValue:o.quantity,"onUpdate:modelValue":v=>o.quantity=v,min:"0.01",step:"0.01",readonly:u.value},null,8,["input_group_text","modelValue","onUpdate:modelValue","readonly"])])]))),128)):I("",!0)])])])])])])])])])}}};export{Ae as default};
