import{z as Q,g as t,h as a,G as W,u as X,b as Z,d as ss,a as es,e as ts,o as os,r as c,p as I,w as y,f as B,i as s,k as _,n as V,t as o,j as d,l as h,F as S,x as D,q as L,_ as z}from"./index.7OFNPsHl.js";import{_ as as}from"./DefaultLayout.nvkZ4UhM.js";import is from"./ServerMessage.I5ol-gtz.js";import{B as ds}from"./BeatLoader.cb9i48GG.js";import"./ClipLoader.1qNfpKDH.js";/* empty css                                                   *//* empty css                                                   */const ns={},ls={class:"content"},cs=W('<div class="row mt-5"><div class="col-12"><div class="card"><div class="row"><div class="col-12 text-end"><div class="skl-w" style="height:32px;width:120px;margin:13px 0 13px auto;"></div></div></div><table class="table table-condensed table-bordered"><thead><tr><th class="fw-bold" width="80%"><div class="skl-w" style="width:80px;"></div></th><th class="fw-bold" width="15%"><div class="skl-w" style="width:80px;"></div></th><th scope="col" class="text-end" width="5%"><div class="skl-w"></div></th></tr></thead><tbody><tr><td class="py-4"><span class="fs-5" style="display:inline-block;"><div class="skl-w" style="height:14px;width:80px;"></div></span><span style="display:inline-block;"><div class="skl-w" style="width:40px;"></div></span><small style="display:inline-block;"><div class="skl-w" style="width:30px;"></div></small><table><tbody><tr><td class="text-secondary ps-5"></td><td class="text-secondary"></td></tr></tbody></table></td><td><div class="skl-w" style="width:60px;"></div></td><td class="text-end"><div class="skl-w" style="height:34px;width:34px;"></div></td></tr></tbody></table></div></div></div>',1),rs=[cs];function _s(N,p){return t(),a("div",ls,rs)}const ms=Q(ns,[["render",_s]]),hs={class:"header-nav-wrap"},ps={class:"row align-items-center"},us={class:"col-auto"},fs={class:"header-back-link"},vs={class:"col-auto"},gs={class:"fw-bold"},ws={key:0,class:"content"},ys={class:"page-heading"},ks={key:0,class:""},bs={class:"row"},xs={class:"col-12"},Ms={class:"card"},Cs={class:"row"},Os={class:"col-12 text-end"},$s={key:0},As={key:1,class:"table table-condensed table-bordered"},Is={class:"fw-bold",width:"80%"},Bs={class:"fw-bold",width:"15%"},Vs={scope:"col",class:"text-end",width:"5%"},Ss={class:""},Ds={class:"fs-5"},Ls={key:0,class:"p-3"},zs={key:1},Ns=["onClick"],Es={key:3,class:"mt-2"},Ts={class:"data-view-box mb-0"},Fs={class:"item"},Ps={key:0},Rs={key:1},qs={key:0,class:"badge badge-secondary"},Hs={key:1,class:"badge badge-dark text-dark"},js={class:"text-end"},Gs={class:"row flex-nowrap gx-2 text-end"},Js={class:"col-auto"},Us=["onClick"],Ys=s("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",viewBox:"0 0 512 512",class:"iconify iconify--fa6-solid"},[s("path",{fill:"currentColor",d:"m362.7 19.3l-48.4 48.4l130 130l48.4-48.4c25-25 25-65.5 0-90.5l-39.4-39.5c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2c-2.5 8.5-.2 17.6 6 23.8s15.3 8.5 23.7 6.1L151 475.7c14.1-4.2 27-11.8 37.4-22.2l233.3-233.2z"})],-1),Ks=[Ys],Qs={class:"col-auto"},Ws=["onClick"],Xs=s("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"0.88em",height:"1em",viewBox:"0 0 448 512",class:"iconify iconify--fa6-regular"},[s("path",{fill:"currentColor",d:"m170.5 51.6l-19 28.4h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6h-93.7c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6l36.7 55H424c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8v304c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128h-8c-13.3 0-24-10.7-24-24s10.7-24 24-24h69.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128v304c0 17.7 14.3 32 32 32h224c17.7 0 32-14.3 32-32V128zm80 64v208c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16m80 0v208c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16m80 0v208c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16"})],-1),Zs=[Xs],se={key:1},ee={class:"text-center py-3",colspan:"9"},_e={__name:"view_modifier",setup(N){const{t:p}=X(),E=Z(),T=ss(()=>E.user.currency.symbol),F=L(()=>z(()=>import("./AddModifierOption.x6dPQiaI.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),P=L(()=>z(()=>import("./AddModifierOptionItem.bsu1ANta.js"),__vite__mapDeps([12,2,3,1,6,7,8,5,9,10,11]))),k=es().params.slack,n=ts({...{server_messages:{type:"",messages:""}}});os(()=>{u()});function u(){H()}const R=c(!1),b=c([]),f=c([]),v=c(!1),g=c([]);function x(e=""){e==""?g.value=[]:g.value=e,v.value=!0}function q(e=""){v.value=!1,u(),e!=""&&O(e)}const M=c(!1);async function H(){await axios.get("/api/modifier",{params:{slack:k}}).then(e=>{b.value=e.data.data.modifier,f.value=e.data.data.modifier.options,M.value=!0}).catch(e=>{n.server_messages.type="error",n.server_messages.messages=e,console.log(e)})}const C=c("");c([]);const w=c(!1);function O(e){document.getElementById("addModifierOptionItemForm").reset(),C.value=e,w.value=!0,$("#addModifierOptionItemModal").modal("show")}function j(){w.value=!1,u()}async function G(e){var m=!1;await Swal.fire({title:p("Do you want to delete this item?"),showCancelButton:!0,confirmButtonText:p("Yes, Delete"),confirmButtonColor:"#d33",cancelButtonText:p("Cancel")}).then(l=>{l.isConfirmed&&(m=!0)}),m&&await axios.post("/api/modifier/option/delete",{slack:e}).then(l=>{if(l.data.status_code==200)Swal.fire(l.data.msg),u();else try{n.server_messages.type="error",n.server_messages.messages=JSON.parse(l.data.msg)}catch{n.server_messages.type="error",n.server_messages.messages=l.data.msg}}).catch(l=>{n.server_messages.type="error",n.server_messages.messages=l})}return(e,m)=>{const l=B("Icon"),A=B("router-link"),J=is,U=ms,Y=as;return t(),I(Y,null,{subheader:y(()=>[s("div",hs,[s("div",ps,[s("div",us,[s("div",fs,[_(A,{class:"text-primary",to:"/modifiers"},{default:y(()=>[_(l,{icon:"fa6-solid:chevron-left"}),V(" "+o(e.$t("Modifiers")),1)]),_:1})])]),s("div",vs,[s("h5",gs,o(d(b).name),1)])])])]),default:y(()=>[d(M)?(t(),a("div",ws,[s("div",ys,[d(n).server_messages.messages!=""?(t(),a("div",ks,[_(J,{server_messages:d(n).server_messages},null,8,["server_messages"])])):h("",!0)]),s("div",bs,[s("div",xs,[s("div",Ms,[s("div",Cs,[s("div",Os,[s("a",{class:"btn btn-primary btn-sm mb-3",href:"#","data-bs-toggle":"modal",onClick:m[0]||(m[0]=i=>x()),"data-bs-target":"#addModifierOptionModal"}," + "+o(e.$t("Add Option")),1)])]),d(R)?(t(),a("div",$s,[_(ds,{color:"gray",size:"15px",class:"pt-2 pe-2"})])):(t(),a("table",As,[s("thead",null,[s("tr",null,[s("th",Is,o(e.$t("Option")),1),s("th",Bs,o(e.$t("Pricing Method")),1),s("th",Vs,o(e.$t("Action")),1)])]),s("tbody",null,[d(f)!=""?(t(!0),a(S,{key:0},D(d(f),(i,K)=>(t(),a("tr",{key:K},[s("td",Ss,[s("span",Ds,o(i.option_name),1),i.pricing_method==1?(t(),a("span",Ls,o(i.sale_price)+" "+o(d(T)),1)):h("",!0),i.option_name_ar!=null?(t(),a("small",zs," ("+o(i.option_name_ar)+")",1)):h("",!0),i.pricing_method==2?(t(),a("a",{key:2,role:"button",class:"p-3","data-bs-toggle":"modal",onClick:r=>O(i.slack),"data-bs-target":"#addModifierOptionItemModal"},[s("u",null,"+ "+o(e.$t("Add Item")),1)],8,Ns)):h("",!0),i.items.length?(t(),a("div",Es,[(t(!0),a(S,null,D(i.items,r=>(t(),a("div",Ts,[s("div",Fs,[s("b",null,o(r.product.name),1),s("span",null,[V(o(r.quantity)+" ",1),r.measurement_unit_id!=null?(t(),a("span",Ps,o(r.measurement_unit.unit_name),1)):(t(),a("span",Rs,o(e.$t("Units")),1))])])]))),256))])):h("",!0)]),s("td",null,[i.pricing_method==1?(t(),a("span",qs,o(i.pricing_method_text),1)):(t(),a("span",Hs,o(i.pricing_method_text),1))]),s("td",js,[s("div",Gs,[s("div",Js,[s("a",{class:"btn btn-icon btn-xs btn-light",href:"#","data-bs-toggle":"modal",onClick:r=>x(i),"data-bs-target":"#addModifierOptionModal"},Ks,8,Us)]),s("div",Qs,[s("a",{class:"btn btn-icon btn-xs btn-light-danger",href:"#",onClick:r=>G(i.slack)},Zs,8,Ws)])])])]))),128)):(t(),a("tr",se,[s("td",ee,o(e.$t("No Data Found")),1)]))])]))])])])])):(t(),I(U,{key:1})),_(d(F),{show_add_modifier_option_modal:d(v),onCloseAddModifierOptionModal:q,modifier_slack:d(k),edit_data:d(g)},null,8,["show_add_modifier_option_modal","modifier_slack","edit_data"]),_(d(P),{show_add_modifier_option_item_modal:d(w),onCloseAddModifierOptionItemModal:j,modifier_option_slack:d(C)},null,8,["show_add_modifier_option_item_modal","modifier_option_slack"])]),_:1})}}};export{_e as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddModifierOption.x6dPQiaI.js","assets/ServerMessage.I5ol-gtz.js","assets/index.7OFNPsHl.js","assets/index.1t-AB2n6.css","assets/VSelectInput.LiAW_8HB.js","assets/VTooltip.n3SV8A0p.js","assets/vee-validate.esm.N3uz7Rsk.js","assets/index.esm.cd1bITNA.js","assets/VTextInput.VtSvZjuc.js","assets/ClipLoader.1qNfpKDH.js","assets/ClipLoader.7xz7y6gZ.css","assets/BeatLoader.5j6ku4bW.css","assets/AddModifierOptionItem.bsu1ANta.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
