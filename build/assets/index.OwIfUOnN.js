import{v as R,a0 as C,j as _,ag as I,ah as W,o as K,m as N,Y as B,P as F,a1 as G,aK as V,r as L,e as k,d as $}from"./index.7OFNPsHl.js";function q(e){return I()?(W(e),!0):!1}function g(e){return typeof e=="function"?e():_(e)}const x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const H=Object.prototype.toString,J=e=>H.call(e)==="[object Object]",h=()=>{},Y=z();function z(){var e,t;return x&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function D(e,t){function o(...n){return new Promise((s,u)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(s).catch(u)})}return o}function Q(e,t={}){let o,n,s=h;const u=d=>{clearTimeout(d),s(),s=h};return d=>{const f=g(e),w=g(t.maxWait);return o&&u(o),f<=0||w!==void 0&&w<=0?(n&&(u(n),n=null),Promise.resolve(d())):new Promise((c,y)=>{s=t.rejectOnCancel?y:c,w&&!n&&(n=setTimeout(()=>{o&&u(o),n=null,c(d())},w)),o=setTimeout(()=>{n&&u(n),n=null,c(d())},f)})}}function U(...e){let t=0,o,n=!0,s=h,u,m,d,f,w;!N(e[0])&&typeof e[0]=="object"?{delay:m,trailing:d=!0,leading:f=!0,rejectOnCancel:w=!1}=e[0]:[m,d=!0,f=!0,w=!1]=e;const c=()=>{o&&(clearTimeout(o),o=void 0,s(),s=h)};return r=>{const i=g(m),p=Date.now()-t,l=()=>u=r();return c(),i<=0?(t=Date.now(),l()):(p>i&&(f||!n)?(t=Date.now(),l()):d&&(u=new Promise((a,b)=>{s=w?b:a,o=setTimeout(()=>{t=Date.now(),n=!0,a(l()),c()},Math.max(0,i-p))})),!f&&!o&&(o=setTimeout(()=>n=!0,i)),n=!1,u)}}const ne={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function X(e){return e||B()}function oe(...e){if(e.length!==1)return F(...e);const t=e[0];return typeof t=="function"?G(V(()=>({get:t,set:h}))):L(t)}function re(e,t=200,o={}){return D(Q(t,o),e)}function ie(e,t=200,o=!1,n=!0,s=!1){return D(U(t,o,n,s),e)}function se(e,t=!0,o){X()?K(e,o):t?e():C(e)}function ae(e,t,o){const n=R(e,(s,u,m)=>{s&&(o!=null&&o.once&&C(()=>n()),t(s,u,m))},{...o,once:!1});return n}function P(e){var t;const o=g(e);return(t=o==null?void 0:o.$el)!=null?t:o}const j=x?window:void 0;function v(...e){let t,o,n,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,n,s]=e,t=j):[t,o,n,s]=e,!t)return h;Array.isArray(o)||(o=[o]),Array.isArray(n)||(n=[n]);const u=[],m=()=>{u.forEach(c=>c()),u.length=0},d=(c,y,r,i)=>(c.addEventListener(y,r,i),()=>c.removeEventListener(y,r,i)),f=R(()=>[P(t),g(s)],([c,y])=>{if(m(),!c)return;const r=J(y)?{...y}:y;u.push(...o.flatMap(i=>n.map(p=>d(c,i,p,r))))},{immediate:!0,flush:"post"}),w=()=>{f(),m()};return q(w),w}let O=!1;function ue(e,t,o={}){const{window:n=j,ignore:s=[],capture:u=!0,detectIframe:m=!1}=o;if(!n)return h;Y&&!O&&(O=!0,Array.from(n.document.body.children).forEach(r=>r.addEventListener("click",h)),n.document.documentElement.addEventListener("click",h));let d=!0;const f=r=>s.some(i=>{if(typeof i=="string")return Array.from(n.document.querySelectorAll(i)).some(p=>p===r.target||r.composedPath().includes(p));{const p=P(i);return p&&(r.target===p||r.composedPath().includes(p))}}),c=[v(n,"click",r=>{const i=P(e);if(!(!i||i===r.target||r.composedPath().includes(i))){if(r.detail===0&&(d=!f(r)),!d){d=!0;return}t(r)}},{passive:!0,capture:u}),v(n,"pointerdown",r=>{const i=P(e);d=!f(r)&&!!(i&&!r.composedPath().includes(i))},{passive:!0}),m&&v(n,"blur",r=>{setTimeout(()=>{var i;const p=P(e);((i=n.document.activeElement)==null?void 0:i.tagName)==="IFRAME"&&!(p!=null&&p.contains(n.document.activeElement))&&t(r)},0)})].filter(Boolean);return()=>c.forEach(r=>r())}function Z(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ce(...e){let t,o,n={};e.length===3?(t=e[0],o=e[1],n=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,o=e[0],n=e[1]):(t=e[0],o=e[1]):(t=!0,o=e[0]);const{target:s=j,eventName:u="keydown",passive:m=!1,dedupe:d=!1}=n,f=Z(t);return v(s,u,c=>{c.repeat&&g(d)||f(c)&&o(c)},m)}const ee={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function le(e={}){const{reactive:t=!1,target:o=j,aliasMap:n=ee,passive:s=!0,onEventFired:u=h}=e,m=k(new Set),d={toJSON(){return{}},current:m},f=t?k(d):d,w=new Set,c=new Set;function y(l,a){l in f&&(t?f[l]=a:f[l].value=a)}function r(){m.clear();for(const l of c)y(l,!1)}function i(l,a){var b,E;const S=(b=l.key)==null?void 0:b.toLowerCase(),M=[(E=l.code)==null?void 0:E.toLowerCase(),S].filter(Boolean);S&&(a?m.add(S):m.delete(S));for(const A of M)c.add(A),y(A,a);S==="meta"&&!a?(w.forEach(A=>{m.delete(A),y(A,!1)}),w.clear()):typeof l.getModifierState=="function"&&l.getModifierState("Meta")&&a&&[...m,...M].forEach(A=>w.add(A))}v(o,"keydown",l=>(i(l,!0),u(l)),{passive:s}),v(o,"keyup",l=>(i(l,!1),u(l)),{passive:s}),v("blur",r,{passive:!0}),v("focus",r,{passive:!0});const p=new Proxy(f,{get(l,a,b){if(typeof a!="string")return Reflect.get(l,a,b);if(a=a.toLowerCase(),a in n&&(a=n[a]),!(a in f))if(/[+_-]/.test(a)){const S=a.split(/[+_-]/g).map(T=>T.trim());f[a]=$(()=>S.every(T=>g(p[T])))}else f[a]=L(!1);const E=Reflect.get(l,a,b);return t?g(E):E}});return p}export{ie as a,se as b,q as c,ne as d,oe as e,x as f,re as g,Y as h,J as i,ce as j,h as n,ue as o,g as t,le as u,ae as w};
