import{u as we,r as f,a as Se,b as Ce,d as O,e as Z,s as Pe,o as $e,g as u,h as m,j as e,p as E,w as L,m as k,t as c,k as q,l as r,i as l,F as C,x as N,M as g,K as h,y as Ae,Q as J,n as Te,L as Ie,q as ee,_ as te,I as Ee}from"./index.sP6fhsqN.js";import{_ as Ne}from"./EditFormSkeleton.Ez20ofO9.js";import{_ as De}from"./VRadio.uBwIG0IU.js";import{_ as Me}from"./VMultiSelect.pXBL2AV1.js";import{_ as Oe}from"./VTextInput.EPCajChY.js";import{_ as Re}from"./VSelectInput.rvOuFTIX.js";import{_ as Fe}from"./VTooltip.kcvohVRA.js";import{u as Be,a as P,F as ze}from"./vee-validate.esm.2kXgdFia.js";import{c as Qe,a as D,e as je,b as ae}from"./index.esm.DHYHwGJ4.js";import{C as Le}from"./ClipLoader._89zL49D.js";/* empty css                                                   */const Je={class:"row"},Ge={class:"col-md-12"},Ye={class:"row"},Ke={class:"col-md-12"},He={class:"card"},We={class:"row mb-3 mb-lg-5"},Xe={class:"section-title pb-2"},Ze={class:"section-title pb-2 text-muted"},et={class:"col-6 col-md-4 col-lg-3"},tt={class:"col-6 col-md-4 col-lg-3"},at={class:"col-12 col-md-4 col-lg-3"},ot={class:"form-field"},nt={class:"input-group input-file-group"},lt={class:"btn btn-light-primary min-width-0 mb-0",for:"formFile"},it={class:"col-8 col-md-4 col-lg-3"},st={class:"col-auto col-md-2 col-lg-3 pt-4"},rt={class:"form-field"},dt={class:"form-check form-switch"},_t={class:"form-check-label",for:"status"},ct=l("em",null,"*",-1),ut={class:"col-6 col-md-3 col-lg-3"},mt={class:"col-6 col-md-3 col-lg-3"},pt={class:"col-6 col-md-3 col-lg-3"},yt={class:""},ht={key:0,class:"pt-4"},vt={class:"form-field"},bt={class:"form-check form-switch"},ft={class:"form-check-label",for:"is_stockable"},gt=l("em",null,"*",-1),kt={key:0,class:"col-6 col-md-4 col-lg-3"},Vt={class:"form-field"},xt={for:""},Ut=l("em",{class:"text-danger"},"*",-1),qt={value:""},wt=["label"],St=["value"],Ct={key:1,class:"col-6 col-md-4 col-lg-3"},Pt={class:"form-field"},$t={for:""},At=l("em",{class:"text-danger"},"*",-1),Tt={value:""},It=["label"],Et=["value"],Nt={class:"row"},Dt={class:"section-title pb-2 text-muted"},Mt={class:"col-6 col-md-4 col-lg-3"},Ot={key:0,class:"col-6 col-md-4 col-lg-3"},Rt={class:"col-6 col-md-4 col-lg-3"},Ft={class:"col-6 col-md-4 col-lg-3"},Bt={class:"col-6 col-md-4 col-lg-3"},zt={class:"col-6 col-md-4 col-lg-3"},Qt={class:"col-12 col-md-4 col-lg-3"},jt={class:"form-field"},Lt={class:"col-12 col-md-4 col-lg-3"},Jt={class:"form-field"},Gt={class:"col-6 col-md-4 col-lg-3"},Yt={class:"col-6 col-md-4 col-lg-3"},Kt={class:"col-6 col-md-4 col-lg-3"},Ht={class:"col-6 col-md-4 col-lg-3"},Wt={class:"col-6 col-md-4 col-lg-3"},Xt={class:"col-6 col-md-4 col-lg-3"},Zt={class:"col-6 col-md-4 col-lg-3"},ea={class:"col-6 col-md-4 col-lg-3"},ta={class:"col-6 col-md-4 col-lg-3 pt-md-3"},aa={class:"form-field"},oa={class:"form-check form-switch"},na={class:"form-check-label",for:"is_refundable"},la={class:"col-6 col-md-4 col-lg-3"},ia={class:"col-6 col-md-4 col-lg-3"},sa=l("input",{type:"hidden",name:"slack"},null,-1),ra={class:"col-md-12"},da={class:"card"},_a={class:"row"},ca={class:"section-title pb-2 text-muted"},ua={class:"col-6 col-md-4 col-lg-3"},ma={key:0},pa=l("i",{class:"text-primary"},"Total is based on ingredient's product total.",-1),ya=[pa],ha={key:0,class:"col-6 col-md-4 col-lg-3"},va={class:"col-6 col-md-4 col-lg-3"},ba={key:1,class:"col-6 col-md-4 col-lg-3"},fa={class:"col-6 col-md-5 col-lg-3"},ga={class:"col-3"},ka={class:"form-field",type:"radio"},Va={class:"label"},xa={class:"form-check mt-md-3"},Ua=["onUpdate:modelValue","checked","onChange"],qa={class:"col-3"},wa={class:"form-field",type:"radio"},Sa={class:"label"},Ca={class:"form-check form-switch mt-md-3"},Pa=["onUpdate:modelValue","checked","onChange"],$a={class:"col-auto mt-4"},Aa={class:"form-field",type:"radio"},Ta={class:"label"},Ia={class:"form-check form-switch mt-md-3"},Ea=["onUpdate:modelValue","checked","onChange"],Na=l("span",{class:"ps-2"},"Active",-1),Da={class:"col-md-12"},Ma={class:"card"},Oa={class:"row"},Ra={class:"section-title pb-2 text-muted"},Fa={class:"col-md-3"},Ba={class:"form-field"},za={value:""},Qa=["value"],ja={key:0,class:"col-md-6"},La={class:"table-responsive"},Ja={class:"table table-condensed"},Ga={class:"text-end"},Ya={class:"text-end"},Ka=["onClick"],Ha={class:"text-end"},Wa=["disabled"],Xa={key:1,class:"pt-0"},Za={key:2,class:"pt-0"},mo={__name:"AddProduct",props:["action"],setup(oe){Be();const ne=ee(()=>te(()=>import("./AddCategory.nscT8hjX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),{t:i}=we(),{isAuthorized:G}=Ee();localStorage.getItem("language");const s=f({type:i("Product Type"),name:i("Product Name"),name_ar:i("Product Name (Arabic)"),select_categories:i("Select Categories"),price_type:i("Price Type"),select_tax:i("Select Tax"),default_sales_price_inc_tax:i("Default Sale Price (Inclusive Tax)"),default_sales_price_exc_tax:i("Default Sale Price (Exclusive Tax)"),short_description:i("Short Description"),short_description_ar:i("Short Description (Arabic)"),description:i("Description"),description_ar:i("Description (Arabic)"),upc:i("UPC (Barcode)"),mpn:i("MPN (Manufacturing Part Number)"),ean:i("EAN (13 Digit International Article Number)"),manufacturer:i("Manufacturer"),brand:i("Brand"),alert_quantity:i("Alert Quantity"),calories:i("Calories"),preparation_time:i("Preparation Time (In Mins)"),purchase_price:i("Purchase Price (Exclusive Tax)"),price_type_tooltip:i("Open price can be added from cashier screen"),stock_unit_tooltip:i("Stock unit is your storage unit, i.e sugar can be stored in kilograms"),sale_unit_tooltip:i("Sales unit is your selling unit i.e sugar can be sold in grams"),dietary:i("Dietary"),per:i("Per"),per_unit:i("Per Unit"),master_product_tooltip:i("This master product will be visible on all branches."),branch_product_tooltip:i("Stock only for this branch."),sales_price_inc_tax:i("Sale Price (Incl. Tax)"),sales_price_exc_tax:i("Sale Price (Excl. Tax)"),quantity:i("Quantity"),sku:i("SKU"),show_in:i("Show In"),unit:i("Unit"),other_tax_type:i("Other Tax Type"),additional_fee:i("Additional Fee")}),M=f(""),le=ee(()=>te(()=>import("./ServerMessage.EFQMOwoZ.js"),__vite__mapDeps([1,2,3]))),x=Se().params.slack,$=Ce(),A=O(()=>$.user.currency.symbol);function ie(){W()}const V=Z({type:"",messages:""}),T=Z({sale_measurement_unit:"Unit",stock_measurement_unit:"Unit"}),t=f({is_submitting:!1,type:1,name:"",sale_price:"",stock_measurement_unit_id:"",sale_measurement_unit_id:"",categories:"",is_stockable:!0,status:!0,image:"",name_ar:"",short_description:"",short_description_ar:"",description:"",description_ar:"",upc:"",mpn:"",ean:"",manufacturer:"",brand:"",purchase_price:"",price_type:1,alert_quantity:"",dietary:"",is_refundable:!0,calories:"",preparation_time:"",tax_id:"",slack:"",other_tax_type:"",additional_fee_id:"",inventory_slack:"",inventory_sale_price:0,inventory_quantity:0,inventory_sku:"",inventory_alert_quantity:"",inventory_show_in:"",inventory_is_favorite:!1,only_for_this_branch:!1,inventory_status:!0,is_quantity_readonly:!1,is_ingredients_total_price:!1}),B=f([{id:1,name:i("Product")},{id:2,name:i("Recipe")},{id:4,name:i("Service")}]),se=f([{id:1,name:i("Fixed")},{id:2,name:i("Open")}]),re=f([{id:"",name:i("None")},{id:1,name:i("Veg")},{id:2,name:i("Non Veg")}]),de=f([{name:i("Everywhere"),value:""},{name:"POS",value:"POS"},{name:"INVOICE",value:"INVOICE"}]),_e=f([{id:"",name:i("None")},{id:1,name:i("Tobacco Tax")},{id:2,name:i("Additional Fee")}]),I=O(()=>$.user.merchant.layout);Pe(Multiselect);const ce=Qe({type:D().required(i("name is required",{name:i("Product Type")})),name:D().required(i("name is required",{name:i("Product Name")})).min(3,i("name must be at least n characters",{name:i("Product Name"),number:3})).max(20,i("Must be less than 20 characters",{name:i("Product Name"),number:20})),status:je().label("Status"),ean:D().when({is:()=>I.value==2,then:o=>o.min(13).max(13).nullable(!0).notRequired(!0).transform((a,y)=>y>0?y:null),otherwise:o=>o.nullable(!0).notRequired(!0)}).label("EAN"),categories:D().required(i("name is required",{name:i("Category")})),inventory_sale_price:ae().typeError(i("must be a number",{name:i("Sale Price")})).required(i("name is required",{name:i("Sale Price")})).positive(i("must be grater than 0",{name:i("Sale Price")})),inventory_quantity:ae().typeError(i("must be a number",{name:i("Quantity")})).when({is:()=>t.value.is_stockable,then:o=>o.required(i("name is required",{name:i("Quantity")})).moreThan(-1,"Quantity cannot be negative"),otherwise:o=>o.nullable()}),inventory_alert_quantity:D().matches(/^([.0-9]{0,9999999999999})$/,i("Alert Quantity must be a positive number or 0")),additional_fee_id:D().when({is:()=>t.value.other_tax_type==2,then:o=>o.required(i("name is required",{name:i("Additional Fee")})),otherwise:o=>o.nullable()})});async function ue(o){t.value.image=o.target.files[0]}$e(()=>{W(),!_.isUndefined(localStorage.getItem("product_form_data"))&&localStorage.getItem("product_form_data")!=null&&(t.value=JSON.parse(localStorage.getItem("product_form_data")),localStorage.removeItem("product_form_data")),me()});const Y=f({write:!1,delete:!1});function me(){Y.value={write:G("A_WRITE_CATEGORY"),delete:G("A_DELETE_CATEGORY")}}const R=f([]),U=f([]),K=f(!1);async function pe(){let o=await axios.get("/api/v2/product/edit/"+x);t.value=o.data.data.product,t.value.image="",t.value.categories=[],Object.keys(t.value.product_categories).forEach(a=>{var y;t.value.categories=(y=t.value.product_categories[a].category)==null?void 0:y.id}),o.data.data.product.sale_measurement_unit_id!=null&&o.data.data.product.sale_measurement_unit_id!=""&&(T.sale_measurement_unit=o.data.data.product.sale_measurement_unit.abbreviation),o.data.data.product.stock_measurement_unit_id!=null&&o.data.data.product.stock_measurement_unit_id!=""&&(T.stock_measurement_unit=o.data.data.product.stock_measurement_unit.abbreviation),(o.data.data.product.tobacco_tax==1||o.data.data.product.tobacco_tax==!0)&&(t.value.other_tax_type=1),o.data.data.product.additional_fee_id>0&&(t.value.other_tax_type=2),K.value=!0,t.value.this_branch_inventory!=null?(t.value.inventory_slack=t.value.this_branch_inventory.slack,t.value.inventory_sale_price=t.value.this_branch_inventory.sale_price,t.value.inventory_quantity=t.value.this_branch_inventory.quantity,t.value.inventory_sku=t.value.this_branch_inventory.sku,t.value.is_ingredients_total_price=t.value.this_branch_inventory.is_ingredients_total_price==1,t.value.inventory_alert_quantity=t.value.this_branch_inventory.alert_quantity,t.value.inventory_show_in=t.value.this_branch_inventory.show_in,t.value.inventory_is_favorite=t.value.this_branch_inventory.is_favorite==1,t.value.only_for_this_branch=t.value.branch_id>0,t.value.inventory_status=t.value.this_branch_inventory.status==1,t.value.is_quantity_readonly=!0,t.value.this_branch_inventory.product_prices&&Object.keys(t.value.this_branch_inventory.product_prices).forEach(a=>{let y=_.find(R.value,v=>v.id==t.value.this_branch_inventory.product_prices[a].multiple_price_id);y.product_price=t.value.this_branch_inventory.product_prices[a].product_price,U.value.push(y)})):(t.value.inventory_show_in="",t.value.inventory_is_favorite=!1,t.value.only_for_this_branch=!1,t.value.inventory_status=!0,t.value.is_quantity_readonly=!1)}const z=f([]),ye=O(()=>R.value.filter(o=>!U.value.some(a=>a.id===o.id)));function he(){if(M.value!=""){let o=_.find(R.value,a=>a.slack==M.value);o.product_price=0,U.value.push(o)}}const F=f([]),Q=f([]),H=f([]),ve=oe,be=O(()=>!_.isUndefined(ve.action));async function W(){await axios.get("/api/product/add").then(o=>{if(F.value=o.data.data.categories,Q.value=o.data.data.taxes,H.value=o.data.data.additional_fees,R.value=o.data.data.multiple_prices,z.value=o.data.data.measurements,_.isUndefined(x)||pe(),_.isUndefined(x)){var a=Q.value.find(function(y){if(y.is_country_default_tax==1)return y.id});a&&a!=null&&(t.value.tax_id=a.id)}}).catch(o=>{V.type="error",V.messages=o,t.value.is_submitting=!1})}async function fe(o){t.value.is_submitting=!0;var a=new FormData;a.append("type",o.type),a.append("name",o.name),a.append("sale_price",o.sale_price),a.append("categories",JSON.stringify([o.categories])),a.append("is_stockable",o.is_stockable),a.append("status",o.status),a.append("image",t.value.image),a.append("tax_id",o.tax_id),a.append("name_ar",o.name_ar),a.append("short_description",o.short_description),a.append("short_description_ar",o.short_description_ar),a.append("description",o.description),a.append("description_ar",o.description_ar),a.append("upc",o.upc),a.append("mpn",o.mpn),a.append("ean",o.ean),a.append("manufacturer",o.manufacturer),a.append("brand",o.brand),a.append("purchase_price",o.purchase_price),a.append("price_type",o.price_type),a.append("alert_quantity",o.alert_quantity),a.append("dietary",o.dietary),a.append("is_refundable",o.is_refundable),a.append("calories",o.calories),a.append("preparation_time",o.preparation_time),a.append("slack",x),a.append("other_tax_type",o.other_tax_type),a.append("additional_fee_id",o.additional_fee_id!=null?o.additional_fee_id:""),a.append("inventory_slack",o.inventory_slack),a.append("inventory_sale_price",o.inventory_sale_price),a.append("inventory_quantity",o.inventory_quantity!=null?o.inventory_quantity:0),a.append("inventory_sku",o.inventory_sku!=null?o.inventory_sku:""),a.append("inventory_alert_quantity",o.inventory_alert_quantity),a.append("inventory_show_in",o.inventory_show_in!=null?o.inventory_show_in:""),a.append("inventory_is_favorite",o.inventory_is_favorite=="1"),a.append("only_for_this_branch",o.only_for_this_branch=="1"?1:0),a.append("inventory_status",o.inventory_status=="1"),a.append("multiple_prices",JSON.stringify(U.value)),o.is_stockable&&(o.stock_measurement_unit_id!=""&&a.append("stock_measurement_unit_id",o.stock_measurement_unit_id?o.stock_measurement_unit_id:""),o.sale_measurement_unit_id!=""&&a.append("sale_measurement_unit_id",o.sale_measurement_unit_id?o.sale_measurement_unit_id:""));var y=be.value?"/api/product/clone":x!=""&&x!=null?"/api/product/update":"/api/product/save";await axios.post(y,a,{headers:{"Content-Type":"multipart/form-data"}}).then(v=>{if(v.data.status_code==200)toast.success(v.data.msg),t.value.is_submitting=!1,ge(),router.push("/products");else{try{V.type="error",V.messages=JSON.parse(v.data.msg)}catch{V.type="error",V.messages=v.data.msg}t.value.is_submitting=!1}}).catch(v=>{V.type="error",V.messages=v,t.value.is_submitting=!1})}function ge(){Object.assign(t,t)}I.value==2&&(B.value=_.filter(B.value,o=>o.id!=2)),O(()=>$.isTobaccoOrFee);async function ke(){event.target.value==4&&(t.value.is_stockable=0)}function Ve(o){U.value=_.filter(U.value,a=>a.id!=o)}async function X(){var o=F.value.find(function(a){if(a.id==t.value.categories&&a.is_tobacco_tax==1)return!0});o!=null&&o.is_tobacco_tax==1?t.value.other_tax_type=1:t.value.other_tax_type=""}return(o,a)=>{const y=Fe,v=Re,p=Oe,xe=Me,Ue=De,qe=Ne;return u(),m(C,null,[e(x)==""||e(x)==null||e(x)!=""&&e(K)?(u(),E(e(ze),{key:0,"validation-schema":e(ce),onSubmit:fe,enctype:"multipart/form-data","initial-values":e(t)},{default:L(({setFieldValue:w,values:d})=>[l("div",Je,[V.messages!=""?(u(),E(e(le),{key:0,class:"py-3",server_messages:V},null,8,["server_messages"])):k("",!0),l("div",Ge,[l("div",Ye,[l("div",Ke,[l("div",He,[l("div",We,[l("h4",Xe,[q(c(o.$t("Master Product Details"))+":",1),r(y,{message:e(s).master_product_tooltip},null,8,["message"])]),l("h5",Ze,c(o.$t("Basic Details"))+":",1),l("div",et,[r(v,{name:"type",label:e(s).type,required:"",options:e(B),modelValue:e(t).type,"onUpdate:modelValue":a[0]||(a[0]=n=>e(t).type=n),size:"normal",onChange:ke},null,8,["label","options","modelValue"])]),l("div",tt,[r(p,{type:"text",name:"name",label:e(s).name,required:!0,modelValue:e(t).name,"onUpdate:modelValue":a[1]||(a[1]=n=>e(t).name=n)},null,8,["label","modelValue"])]),l("div",at,[l("div",ot,[l("label",null,c(o.$t("Product Image")),1),l("div",nt,[l("input",{class:"form-control form-control-solid",name:"image",type:"file",id:"formFile",accept:"image/jpg, image/jpeg, image/png",onChange:ue},null,32),l("label",lt,c(o.$t("Upload")),1)])])]),l("div",it,[e(Y).write?(u(),E(v,{key:0,name:"categories",label:e(s).select_categories,text:"name",value:"slack",options:e(F),required:"",selected:e(t).categories,modelValue:e(t).categories,"onUpdate:modelValue":a[2]||(a[2]=n=>e(t).categories=n),addModalShow:!0,addModalId:"#addCategoryModal",mode:"single",onChange:X},null,8,["label","options","selected","modelValue"])):(u(),E(v,{key:1,name:"categories",label:e(s).select_categories,text:"name",value:"slack",options:e(F),required:"",selected:e(t).categories,modelValue:e(t).categories,"onUpdate:modelValue":a[3]||(a[3]=n=>e(t).categories=n),mode:"single",onChange:X},null,8,["label","options","selected","modelValue"]))]),l("div",st,[l("div",rt,[l("div",dt,[r(e(P),{class:"form-check-input me-2",type:"checkbox",role:"switch",name:"status",id:"status","unchecked-value":!1,value:!0,modelValue:e(t).status,"onUpdate:modelValue":a[4]||(a[4]=n=>e(t).status=n),onChange:n=>w("status",n.target.checked)},null,8,["modelValue","onChange"]),l("label",_t,[q(c(o.$t("Active"))+" ",1),ct])])])]),l("div",ut,[r(v,{name:"price_type",label:e(s).price_type,required:"",size:"normal",options:e(se),tooltip:e(s).price_type_tooltip,modelValue:e(t).price_type,"onUpdate:modelValue":a[5]||(a[5]=n=>e(t).price_type=n)},null,8,["label","options","tooltip","modelValue"])]),l("div",mt,[r(v,{name:"tax_id",label:e(s).select_tax,text:"name",value:"id",mode:"single",selected:e(t).tax_id,options:e(Q),modelValue:e(t).tax_id,"onUpdate:modelValue":a[6]||(a[6]=n=>e(t).tax_id=n)},null,8,["label","selected","options","modelValue"])]),l("div",pt,[l("div",yt,[d.type!=4?(u(),m("div",ht,[l("div",vt,[l("div",bt,[r(e(P),{class:"form-check-input me-2",type:"checkbox",role:"switch",name:"is_stockable",id:"is_stockable","unchecked-value":!1,value:!0,modelValue:e(t).is_stockable,"onUpdate:modelValue":a[7]||(a[7]=n=>e(t).is_stockable=n),onChange:n=>w("is_stockable",n.target.checked)},null,8,["modelValue","onChange"]),l("label",ft,[q(c(o.$t("Stockable"))+" ",1),gt])])])])):k("",!0)])]),d.type==1&&d.is_stockable?(u(),m("div",kt,[l("div",Vt,[l("label",xt,[q(c(o.$t("Stock Unit"))+" ",1),Ut,r(y,{message:e(s).stock_unit_tooltip},null,8,["message"])]),r(e(P),{as:"select",name:"stock_measurement_unit_id",id:"",class:"form-control form-control-solid",modelValue:e(t).stock_measurement_unit_id,"onUpdate:modelValue":a[8]||(a[8]=n=>e(t).stock_measurement_unit_id=n)},{default:L(()=>[l("option",qt,c(o.$t("Units")),1),(u(!0),m(C,null,N(e(z),(n,S)=>h((u(),m("optgroup",{key:S,label:n.name+" "+(n.name_ar!=""&&n.name_ar!=null&&n.name_ar!="null"?n.name_ar:"")},[(u(!0),m(C,null,N(n.units,(b,j)=>(u(),m("option",{key:j,value:b.id},c(b.unit_name)+" "+c(b.unit_name_ar!=""&&b.unit_name_ar!=null&&b.unit_name_ar!="null"?b.unit_name_ar:""),9,St))),128))],8,wt)),[[g,n.status==1]])),128))]),_:1},8,["modelValue"])])])):k("",!0),d.type==1&&d.is_stockable?(u(),m("div",Ct,[l("div",Pt,[l("label",$t,[q(c(o.$t("Sales Unit"))+" ",1),At,r(y,{message:e(s).sale_unit_tooltip},null,8,["message"])]),r(e(P),{as:"select",name:"sale_measurement_unit_id",class:"form-control form-control-solid",modelValue:e(t).sale_measurement_unit_id,"onUpdate:modelValue":a[9]||(a[9]=n=>e(t).sale_measurement_unit_id=n)},{default:L(()=>[l("option",Tt,c(o.$t("Units")),1),(u(!0),m(C,null,N(e(z),(n,S)=>h((u(),m("optgroup",{key:S,label:n.name+" "+(n.name_ar!=""&&n.name_ar!=null&&n.name_ar!="null"?n.name_ar:"")},[(u(!0),m(C,null,N(n.units,(b,j)=>(u(),m("option",{key:j,value:b.id},c(b.unit_name)+" "+c(b.unit_name_ar!=""&&b.unit_name_ar!=null&&b.unit_name_ar!="null"?b.unit_name_ar:""),9,Et))),128))],8,It)),[[g,n.status==1]])),128))]),_:1},8,["modelValue"])])])):k("",!0)]),l("div",Nt,[l("h5",Dt,c(o.$t("Optional Details"))+": ",1),l("div",Mt,[r(v,{name:"other_tax_type",label:e(s).other_tax_type,options:e(_e),modelValue:e(t).other_tax_type,"onUpdate:modelValue":a[10]||(a[10]=n=>e(t).other_tax_type=n),selected:e(t).other_tax_type,size:"normal"},null,8,["label","options","modelValue","selected"])]),e(t).other_tax_type==2?(u(),m("div",Ot,[r(xe,{name:"additional_fee_id",label:e(s).additional_fee,text:"name",value:"id",mode:"single",selected:e(t).additional_fee_id,options:e(H),required:""},null,8,["label","selected","options"])])):k("",!0),l("div",Rt,[r(p,{type:"number",name:"sale_price",label:e($).user.login_branch.tax_inclusive_pricing?e(s).default_sales_price_inc_tax:e(s).default_sales_price_exc_tax,input_group_text:d.is_stockable&&d.sale_measurement_unit_id?A.value+"/ "+e(s).per+" "+T.sale_measurement_unit:A.value+"/ "+e(s).per_unit,modelValue:e(t).sale_price,"onUpdate:modelValue":a[11]||(a[11]=n=>e(t).sale_price=n)},null,8,["label","input_group_text","modelValue"])]),l("div",Ft,[r(p,{type:"text",name:"name_ar",label:e(s).name_ar,modelValue:e(t).name_ar,"onUpdate:modelValue":a[12]||(a[12]=n=>e(t).name_ar=n)},null,8,["label","modelValue"])]),l("div",Bt,[r(p,{type:"text",name:"short_description",label:e(s).short_description,modelValue:e(t).short_description,"onUpdate:modelValue":a[13]||(a[13]=n=>e(t).short_description=n)},null,8,["label","modelValue"])]),l("div",zt,[r(p,{type:"text",name:"short_description_ar",label:e(s).short_description_ar,modelValue:e(t).short_description_ar,"onUpdate:modelValue":a[14]||(a[14]=n=>e(t).short_description_ar=n)},null,8,["label","modelValue"])]),l("div",Qt,[l("div",jt,[l("label",null,c(o.$t("Description")),1),r(e(P),{as:"textarea",class:"form-control form-control-solid p-3",name:"description",label:e(s).description,cols:"3",modelValue:e(t).description,"onUpdate:modelValue":a[15]||(a[15]=n=>e(t).description=n)},null,8,["label","modelValue"])])]),l("div",Lt,[l("div",Jt,[l("label",null,c(o.$t("Description (Arabic)")),1),r(e(P),{as:"textarea",class:"form-control form-control-solid p-3",name:"description_ar",label:e(s).description_ar,cols:"3",modelValue:e(t).description_ar,"onUpdate:modelValue":a[16]||(a[16]=n=>e(t).description_ar=n)},null,8,["label","modelValue"])])]),h(l("div",Gt,[r(p,{type:"text",name:"upc",label:e(s).upc,modelValue:e(t).upc,"onUpdate:modelValue":a[17]||(a[17]=n=>e(t).upc=n)},null,8,["label","modelValue"])],512),[[g,d.type==1||d.type==2]]),h(l("div",Yt,[r(p,{type:"text",name:"mpn",label:e(s).mpn,modelValue:e(t).mpn,"onUpdate:modelValue":a[18]||(a[18]=n=>e(t).mpn=n)},null,8,["label","modelValue"])],512),[[g,d.type==1&&I.value==2]]),h(l("div",Kt,[r(p,{type:"text",name:"ean",label:e(s).ean,modelValue:e(t).ean,"onUpdate:modelValue":a[19]||(a[19]=n=>e(t).ean=n)},null,8,["label","modelValue"])],512),[[g,d.type==1&&I.value==2]]),h(l("div",Ht,[r(p,{type:"text",name:"manufacturer",label:e(s).manufacturer,modelValue:e(t).manufacturer,"onUpdate:modelValue":a[20]||(a[20]=n=>e(t).manufacturer=n)},null,8,["label","modelValue"])],512),[[g,d.type==1&&I.value==2]]),h(l("div",Wt,[r(p,{type:"text",name:"brand",label:e(s).brand,modelValue:e(t).brand,"onUpdate:modelValue":a[21]||(a[21]=n=>e(t).brand=n)},null,8,["label","modelValue"])],512),[[g,d.type==1&&I.value==2]]),h(l("div",Xt,[r(p,{type:"number",name:"purchase_price",label:e(s).purchase_price,input_group_text:d.stock_measurement_unit_id?A.value+"/ "+e(s).per+" "+T.stock_measurement_unit:A.value+"/ "+e(s).per_unit,modelValue:e(t).purchase_price,"onUpdate:modelValue":a[22]||(a[22]=n=>e(t).purchase_price=n),min:0},null,8,["label","input_group_text","modelValue"])],512),[[g,d.type==1]]),h(l("div",Zt,[r(p,{type:"number",name:"alert_quantity",label:e(s).alert_quantity,modelValue:e(t).alert_quantity,"onUpdate:modelValue":a[23]||(a[23]=n=>e(t).alert_quantity=n),min:0},null,8,["label","modelValue"])],512),[[g,d.type==1||d.type==2]]),h(l("div",ea,[r(v,{name:"dietary",label:e(s).dietary,options:e(re),modelValue:e(t).dietary,"onUpdate:modelValue":a[24]||(a[24]=n=>e(t).dietary=n),selected:e(t).dietary,size:"normal"},null,8,["label","options","modelValue","selected"])],512),[[g,d.type==1||d.type==2]]),h(l("div",ta,[l("div",aa,[l("div",oa,[r(e(P),{class:"form-check-input me-2",role:"switch",name:"is_refundable",id:"is_refundable",label:"Refundable",type:"checkbox","unchecked-value":!1,value:!0,modelValue:e(t).is_refundable,"onUpdate:modelValue":a[25]||(a[25]=n=>e(t).is_refundable=n),onChange:n=>w("is_refundable",n.target.checked)},null,8,["modelValue","onChange"]),l("label",na,c(o.$t("Refundable")),1)])])],512),[[g,d.type==1||d.type==2]]),h(l("div",la,[r(p,{type:"number",name:"calories",label:e(s).calories,modelValue:e(t).calories,"onUpdate:modelValue":a[26]||(a[26]=n=>e(t).calories=n),min:0},null,8,["label","modelValue"])],512),[[g,d.type==1||d.type==2]]),h(l("div",ia,[r(p,{type:"number",name:"preparation_time",label:e(s).preparation_time,modelValue:e(t).preparation_time,"onUpdate:modelValue":a[27]||(a[27]=n=>e(t).preparation_time=n),min:0},null,8,["label","modelValue"])],512),[[g,d.type==2]]),sa])])]),l("div",ra,[l("div",da,[l("div",_a,[l("h5",ca,[q(c(e($).user.login_branch.name)+"'s "+c(o.$t("In Hand Inventory Details"))+":",1),r(y,{message:e(s).branch_product_tooltip},null,8,["message"])]),l("div",ua,[r(p,{type:"number",name:"inventory_sale_price",input_group_text:e(t).is_stockable&&e(t).sale_measurement_unit_id?A.value+"/ "+e(s).per+" "+T.sale_measurement_unit:A.value+"/ "+e(s).per_unit,modelValue:e(t).inventory_sale_price,"onUpdate:modelValue":a[28]||(a[28]=n=>e(t).inventory_sale_price=n),step:"1",label:e($).user.login_branch.tax_inclusive_pricing?e(s).sales_price_inc_tax:e(s).sales_price_exc_tax,readonly:e(t).is_ingredients_total_price,required:"",class:"mb-0"},null,8,["input_group_text","modelValue","label","readonly"]),e(t).is_ingredients_total_price?(u(),m("span",ma,ya)):k("",!0)]),e(t).is_stockable==!0?(u(),m("div",ha,[r(p,{type:"number",name:"inventory_quantity",label:e(s).quantity,modelValue:e(t).inventory_quantity,"onUpdate:modelValue":a[29]||(a[29]=n=>e(t).inventory_quantity=n),input_group_text:e(t).is_stockable&&e(t).stock_measurement_unit_id?T.stock_measurement_unit:e(s).unit,required:"",readonly:e(t).is_quantity_readonly,class:Ae(e(t).is_quantity_readonly==!0?"pe-none":"")},null,8,["label","modelValue","input_group_text","readonly","class"])])):k("",!0),l("div",va,[r(p,{type:"text",name:"inventory_sku",label:e(s).sku,modelValue:d.inventory_sku,"onUpdate:modelValue":n=>d.inventory_sku=n},null,8,["label","modelValue","onUpdate:modelValue"])]),e(t).is_stockable==!0?(u(),m("div",ba,[r(p,{type:"number",name:"inventory_alert_quantity",label:e(s).alert_quantity,modelValue:d.inventory_alert_quantity,"onUpdate:modelValue":n=>d.inventory_alert_quantity=n,min:0},null,8,["label","modelValue","onUpdate:modelValue"])])):k("",!0),l("div",fa,[r(Ue,{type:"radio",name:"inventory_show_in",modelValue:d.inventory_show_in,"onUpdate:modelValue":n=>d.inventory_show_in=n,label:e(s).show_in,options:e(de),onChange:n=>w("inventory_show_in",n.target.value)},null,8,["modelValue","onUpdate:modelValue","label","options","onChange"])]),l("div",ga,[l("div",ka,[l("label",Va,c(o.$t("Only for this Branch?")),1),l("div",xa,[h(l("input",{class:"form-check-input me-1",type:"checkbox",name:"only_for_this_branch","onUpdate:modelValue":n=>d.only_for_this_branch=n,checked:e(t).only_for_this_branch,onChange:n=>w("only_for_this_branch",n.target.checked)},null,40,Ua),[[J,d.only_for_this_branch]]),q("Yes ")])])]),l("div",qa,[l("div",wa,[l("label",Sa,c(o.$t("Is Favorite")),1),l("div",Ca,[h(l("input",{class:"form-check-input",name:"inventory_is_favorite",type:"checkbox",role:"switch",id:"inventory_is_favorite","onUpdate:modelValue":n=>d.inventory_is_favorite=n,checked:e(t).inventory_is_favorite,onChange:n=>w("inventory_is_favorite",n.target.checked)},null,40,Pa),[[J,d.inventory_is_favorite]])])])]),l("div",$a,[l("div",Aa,[l("label",Ta,c(o.$t("Inventory Status")),1),l("div",Ia,[h(l("input",{class:"form-check-input",name:"inventory_status",type:"checkbox",role:"switch",id:"inventory_status","onUpdate:modelValue":n=>d.inventory_status=n,checked:e(t).inventory_status,onChange:n=>w("inventory_status",n.target.checked)},null,40,Ea),[[J,d.inventory_status]]),q(),Na])])])])])]),l("div",Da,[l("div",Ma,[l("div",Oa,[l("h5",Ra,c(o.$t("Add Multiple Pricing")),1),l("div",Fa,[l("div",Ba,[h(l("select",{class:"form-control form-control-solid w-100","onUpdate:modelValue":a[30]||(a[30]=n=>Te(M)?M.value=n:null),onChange:he},[l("option",za," --"+c(o.$t("Select Multiple Price"))+"-- ",1),(u(!0),m(C,null,N(ye.value,(n,S)=>(u(),m("option",{value:n.slack},c(n.name),9,Qa))),256))],544),[[Ie,e(M)]])])]),e(U).length?(u(),m("div",ja,[l("div",La,[l("table",Ja,[l("thead",null,[l("th",null,c(o.$t("Name")),1),l("th",null,c(o.$t("Price")),1),l("th",Ga,c(o.$t("Action")),1)]),l("tbody",null,[e(U).length?(u(!0),m(C,{key:0},N(e(U),(n,S)=>(u(),m("tr",{key:S},[l("td",null,c(n.name),1),l("td",null,[r(p,{type:"number",name:"purchase_price_"+S,label:"",modelValue:n.product_price,"onUpdate:modelValue":b=>n.product_price=b,min:"0"},null,8,["name","modelValue","onUpdate:modelValue"])]),l("td",Ya,[l("a",{class:"dropdown-item text-danger",href:"#",onClick:b=>Ve(n.id)},c(o.$t("Remove")),9,Ka)])]))),128)):k("",!0)])])])])):k("",!0)])])])])])]),l("div",Ha,[l("button",{type:"submit",class:"btn btn-primary",disabled:e(t).is_submitting},[e(t).is_submitting?(u(),E(Le,{key:0,color:"white",size:"20px",class:"pt-2 pe-2"})):k("",!0),e(t).is_submitting?(u(),m("span",Xa,c(o.$t("Saving...")),1)):(u(),m("span",Za,c(o.$t("Save")),1))],8,Wa)])]),_:1},8,["validation-schema","initial-values"])):(u(),E(qe,{key:1})),r(e(ne),{onCloseAddCategoryModal:ie})],64)}}};export{mo as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddCategory.nscT8hjX.js","assets/ServerMessage.EFQMOwoZ.js","assets/index.sP6fhsqN.js","assets/index.KTHCd6a8.css","assets/VSelectInput.rvOuFTIX.js","assets/VTooltip.kcvohVRA.js","assets/vee-validate.esm.2kXgdFia.js","assets/index.esm.DHYHwGJ4.js","assets/VTextInput.EPCajChY.js","assets/ClipLoader._89zL49D.js","assets/ClipLoader.7xz7y6gZ.css","assets/BeatLoader.5j6ku4bW.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
