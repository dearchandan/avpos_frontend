import{u as k,e as q,v as B,r as S,f as x,g as t,p as b,w,y as m,j as d,i as s,N,K as F,l as u,h as i,F as V,t as I,x as j,m as z}from"./index.li3fCRRM.js";import{F as D}from"./vee-validate.esm.reM-LHjC.js";import"./index.esm.e6McCFlz.js";import{B as L}from"./BeatLoader.GtqPXmja.js";/* empty css                                                   *//* empty css                                                   */const A={class:"row"},E={class:"field-icon mb-4"},K={class:"form-field position-relative mb-0"},M=["placeholder"],T={class:"icon"},U={key:0},$={key:1,class:""},G={key:0,class:"recent-search"},H=["onClick"],Z={__name:"CategorySearch",props:{selected_categories:{type:Array,default:[]},placeholder:{type:String,default:"Search Categories"},is_button:{type:Boolean,default:!1},height_sm:{type:[Boolean,String],required:!1},limit:{type:Number,default:""}},emits:["selectCategory"],setup(l,{emit:h}){k();const e=q({...{server_messages:{type:"",messages:""},is_listing:!1}});B(()=>e.search_query,_.debounce(()=>{f()},500));const c=l,p=c.placeholder,a=S([]);async function f(){e.is_listing=!0,e.search_query!=""?await axios.get("/api/categories/all",{params:{search_query:e.search_query,limit:c.limit}}).then(o=>{a.value=o.data.data,e.is_listing=!1}).catch(o=>{e.server_messages.type="error",e.server_messages.messages=o,e.is_listing=!1,console.log(o)}):(a.value=[],e.is_listing=!1)}function g(){a.value=[],e.search_query=""}const y=h;return(o,n)=>{const v=x("Icon");return t(),b(d(D),null,{default:w(()=>[s("div",A,[s("div",{class:m(l.is_button?"col-md-8":"col-md-12")},[s("div",E,[s("div",K,[F(s("input",{type:"search",class:m([l.height_sm?"form-control form-control-sm form-control-solid":"form-control form-control-solid"]),placeholder:d(p),"onUpdate:modelValue":n[0]||(n[0]=r=>e.search_query=r)},null,10,M),[[N,e.search_query]]),s("div",T,[u(v,{icon:"fa6-solid:magnifying-glass"})]),e.is_listing?(t(),i("div",U,[u(L,{color:"gray",size:"15px",class:"pt-2 pe-2"})])):(t(),i("div",$,[a.value.length>0?(t(),i("ul",G,[(t(!0),i(V,null,j(a.value,(r,C)=>(t(),i("li",{key:C},[s("a",{href:"javascript:;",onClick:O=>(y("selectCategory",r),g())},[s("h2",null,I(r.name),1)],8,H)]))),128))])):z("",!0)]))])])],2)])]),_:1})}}};export{Z as default};
