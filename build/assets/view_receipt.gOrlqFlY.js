import S from"./ServerMessage.qNo4NwTp.js";import{_ as A}from"./DefaultLayout.EMHfdzn0.js";import"./index.esm.wERziE-M.js";import{B as y}from"./BeatLoader.8E6aB4W4.js";import{C as N}from"./ClipLoader.4-rIzqtH.js";import{a as D,r as m,e as M,b as V,o as x,g as o,p as k,w as h,f,i as s,k as r,n as c,t as e,j as p,h as i,l}from"./index.ri7Y_V5F.js";/* empty css                                                   *//* empty css                                                   */const z={class:"header-nav-wrap"},L={class:"row align-items-center"},j={class:"col-auto"},I={class:"header-back-link"},E={class:"col-auto"},F={class:"fw-bold"},P={class:"col-auto ms-auto"},T={key:0,class:"me-2"},U=["disabled"],q={key:1},G={key:2},H=["href"],J={class:"content"},K={class:"page-heading"},O={key:0,class:"py-3"},Q={key:0,class:"row"},W={class:"col-md-12"},X={class:"card"},Y={key:0},Z={key:1},ss={class:"row"},es={class:"col-md-12 mb-3"},ts={class:"col-md-3"},as={class:"data-view-box mb-3"},os={class:"item"},is={class:"col-md-3"},ls={class:"data-view-box mb-3"},cs={class:"item"},ns={key:0,class:"col-md-3"},ds={class:"data-view-box mb-3"},_s={class:"item"},rs={class:"col-md-3"},vs={class:"data-view-box mb-3"},us={class:"item"},ms={class:"col-md-3"},hs={class:"data-view-box mb-3"},ps={class:"item"},bs={class:"col-md-3"},gs={class:"data-view-box mb-3"},ys={class:"item"},ks={key:0,class:"badge badge-primary"},fs={key:1,class:"badge badge-success"},ws={key:2,class:"badge badge-danger"},$s={class:"col-md-3"},Bs={class:"data-view-box mb-3"},Rs={class:"item"},Cs={class:"col-md-3"},Ss={class:"data-view-box mb-3"},As={class:"item"},Ns={key:1,class:"row"},Ds={class:"col-md-12"},Ms={class:"card"},Vs={key:0},xs={key:1},zs={class:"row"},Ls={class:"col-md-12 mb-3"},js={class:"col-md-12"},Is={class:"data-view-box mb-3"},Qs={__name:"view_receipt",setup(Es){const b=D().params.slack,n=m(!1),a=m([]),g=m(!1),d=M({...{server_messages:{type:"",messages:""},is_submitting:!1}}),v=V();x(()=>{w()});async function w(){n.value=!0,await axios.get("/api/voucher",{params:{slack:b,type:2}}).then(t=>{a.value=t.data.data,n.value=!1,g.value=!0}).catch(t=>{d.server_messages.type="error",d.server_messages.messages=t,n.value=!1,console.log(t)})}async function $(){n.value=!0;var t=new FormData;t.append("slack",b),t.append("type",2),await axios.post("/api/voucher/approve",t).then(_=>{a.value=_.data.data,n.value=!1,g.value=!0}).catch(_=>{d.server_messages.type="error",d.server_messages.messages=_,n.value=!1,console.log(_)})}return(t,_)=>{const B=f("Icon"),R=f("router-link"),C=S;return o(),k(A,null,{subheader:h(()=>[s("div",z,[s("div",L,[s("div",j,[s("div",I,[r(R,{class:"text-primary",to:"/rent_receipts"},{default:h(()=>[r(B,{icon:"fa6-solid:chevron-left"}),c(" "+e(t.$t("Rent Receipts")),1)]),_:1})])]),s("div",E,[s("h5",F,"#"+e(a.value.voucher_number),1)]),s("div",P,[a.value.status==0&&p(v).isMerchant?(o(),i("span",T,[c(e(t.$t("Balance"))+": ",1),s("b",null,e(a.value.balance_amount),1)])):l("",!0),a.value.status==0&&p(v).isMerchant?(o(),i("button",{key:1,class:"btn btn-success btn-text-success ms-2 btn-sm",disabled:n.value,onClick:_[0]||(_[0]=u=>$())},[d.is_submitting?(o(),k(N,{key:0,color:"white",size:"20px",class:"pt-2 pe-2"})):l("",!0),n.value?(o(),i("span",q,e(t.$t("Approving...")),1)):(o(),i("span",G,e(t.$t("Approve")),1))],8,U)):l("",!0),a.value.status==1?(o(),i("a",{key:2,href:a.value.receipt_link,target:"_blank",class:"btn btn-light btn-text-primary ms-2 btn-sm"},e(t.$t("Receipt")),9,H)):l("",!0)])])])]),default:h(()=>{var u;return[s("div",J,[s("div",K,[d.server_messages.messages!=""?(o(),i("div",O,[r(C,{server_messages:d.server_messages},null,8,["server_messages"])])):l("",!0)]),a.value!=null?(o(),i("div",Q,[s("div",W,[s("div",X,[a.value==""?(o(),i("div",Y,[r(y,{color:"gray",size:"15px",class:"pt-2 pe-2"})])):(o(),i("div",Z,[s("div",ss,[s("div",es,[s("h5",null,e(t.$t("Basic Detail")),1)]),s("div",ts,[s("div",as,[s("div",os,[s("b",null,e(t.$t("Rent Receipt No."))+":",1),c(" "+e(a.value.voucher_number),1)])])]),s("div",is,[s("div",ls,[s("div",cs,[s("b",null,e(t.$t("Amount"))+":",1),c(" "+e(a.value.withdrawal_amount),1)])])]),p(v).isMerchant?(o(),i("div",ns,[s("div",ds,[s("div",_s,[s("b",null,e(t.$t("Branch"))+":",1),c(" "+e(a.value.branch.name),1)])])])):l("",!0),s("div",rs,[s("div",vs,[s("div",us,[s("b",null,e(t.$t("User"))+":",1),c(" "+e(a.value.voucher_user.name),1)])])]),s("div",ms,[s("div",hs,[s("div",ps,[s("b",null,e(t.$t("Date"))+":",1),c(" "+e(a.value.voucher_date_label),1)])])]),s("div",bs,[s("div",gs,[s("div",ys,[s("b",null,e(t.$t("Status"))+":",1),a.value.status==0?(o(),i("span",ks,e(t.$t("Pending")),1)):l("",!0),a.value.status==1?(o(),i("span",fs,e(t.$t("Approved")),1)):l("",!0),a.value.status==2?(o(),i("span",ws,e(t.$t("Rejected")),1)):l("",!0)])])]),s("div",$s,[s("div",Bs,[s("div",Rs,[s("b",null,e(t.$t("Created By"))+":",1),c(" "+e((u=a.value.created_by)==null?void 0:u.name),1)])])]),s("div",Cs,[s("div",Ss,[s("div",As,[s("b",null,e(t.$t("Created At"))+":",1),c(" "+e(a.value.created_at_label),1)])])])])]))])])])):l("",!0),a.value!=null&&a.value.note!=null?(o(),i("div",Ns,[s("div",Ds,[s("div",Ms,[a.value==""?(o(),i("div",Vs,[r(y,{color:"gray",size:"15px",class:"pt-2 pe-2"})])):(o(),i("div",xs,[s("div",zs,[s("div",Ls,[s("h5",null,e(t.$t("Note")),1)]),s("div",js,[s("div",Is,[s("div",null,[s("p",null,e(a.value.note!=null?a.value.note:""),1)])])])])]))])])])):l("",!0)])]}),_:1})}}};export{Qs as default};
