import{D as R}from"./DefaultLayout.saUWsTkY.js";import{_ as S}from"./ListingSkeleton.6NzqF9S5.js";import{u as B,r as d,e as L,o as j,v as F,g as l,p as f,w as r,f as y,i as s,l as i,k as w,t as e,K as I,N as P,j as b,h,F as A,x as M,O as T}from"./index.li3fCRRM.js";import{_ as E}from"./PaginateLimit.SmYeFgfo.js";import"./vue-datepicker.a6BsTEHj.js";/* empty css                                                   */import"./index.esm.e6McCFlz.js";import"./ClipLoader.gDBpDd3b.js";/* empty css                                                   */const H={class:"header-nav-wrap"},K={class:"row align-items-center"},O={class:"col-auto"},U={class:"header-back-link"},z={class:"col-auto"},G={class:"fw-bold"},J={class:"content"},Q={class:"page-heading"},W={class:"row align-items-center justify-content-between"},X={class:"col-auto"},Y={class:"row align-items-center"},Z={class:"col-auto"},ss={class:"col-auto"},ts={class:"row align-items-center"},es={class:"col-auto"},os={class:"form-field page-heading-search-field mb-0"},as={class:"field-icon"},is=["placeholder"],ns={class:"icon"},ls={key:1,class:"table-responsive"},cs={class:"table table-list-data table-hover"},ds={class:"bg-light"},rs={scope:"col"},_s={scope:"col"},hs={scope:"col",width:"10%"},us={scope:"col",width:"10%",class:"text-end"},ps={class:"fw-bold highlighted-list-item"},ms={class:"text-end"},gs=["onClick"],vs={key:1},fs={class:"text-center py-3",colspan:"4"},ys={class:"data-footer"},ws={class:"row align-items-center justify-content-between"},bs={class:"col-auto"},ks={class:"col-auto"},js={__name:"version_release",setup($s){const{t:k}=B(),$={server_messages:{type:"",messages:""},is_listing:!1,search_query:d("")},V=k("Search by version.."),o=L({...$});j(()=>{c()}),F(()=>o.search_query,_.debounce(()=>{c()},500));const u=d([]),p=d([]);async function c(t=1){o.is_listing=!0,await axios.get("/api/version_releases",{params:{page:t,paginate_limit:g.value,search_query:o.search_query}}).then(a=>{u.value=a.data.data,p.value=a.data.pagination,o.is_listing=!1}).catch(a=>{o.server_messages.type="error",o.server_messages.messages=a,o.is_listing=!1,console.log(a)})}const g=d();async function q(t){g.value=t,await c()}function D(t){router.push("/release/edit/"+t)}return(t,a)=>{const m=y("Icon"),v=y("router-link"),N=S,x=R;return l(),f(x,null,{subheader:r(()=>[s("div",H,[s("div",K,[s("div",O,[s("div",U,[i(v,{class:"text-primary",to:"/settings"},{default:r(()=>[i(m,{icon:"fa6-solid:chevron-left"}),w(" "+e(t.$t("Settings")),1)]),_:1})])]),s("div",z,[s("h5",G,e(t.$t("Releases")),1)])])])]),default:r(()=>[s("div",J,[s("div",Q,[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[i(v,{class:"btn btn-sm btn-light-primary",to:"/release/add"},{default:r(()=>[w("+ "+e(t.$t("New Release")),1)]),_:1})])])]),s("div",ss,[s("div",ts,[s("div",es,[s("div",os,[s("div",as,[I(s("input",{type:"search",class:"form-control form-control-sm form-control-shadow",placeholder:b(V),"onUpdate:modelValue":a[0]||(a[0]=n=>o.search_query=n)},null,8,is),[[P,o.search_query]]),s("div",ns,[i(m,{icon:"fa6-solid:magnifying-glass"})])])])])])])])]),o.is_listing?(l(),f(N,{key:0})):(l(),h("div",ls,[s("table",cs,[s("thead",ds,[s("tr",null,[s("th",rs,e(t.$t("Version")),1),s("th",_s,e(t.$t("Highlights")),1),s("th",hs,e(t.$t("Released At")),1),s("th",us,e(t.$t("Action")),1)])]),s("tbody",null,[u.value!=""?(l(!0),h(A,{key:0},M(u.value,(n,C)=>(l(),h("tr",{key:C},[s("td",null,[s("div",null,[s("span",ps,e(n.version),1)])]),s("td",null,e(n.highlights),1),s("td",null,e(n.released_at),1),s("td",ms,[s("a",{class:"mx-2",href:"#",onClick:Vs=>D(n.id)},[i(m,{icon:"fa6-solid:pen",class:"fs-5 text-default"})],8,gs)])]))),128)):(l(),h("tr",vs,[s("td",fs,e(t.$t("No Data Found")),1)]))])])])),s("div",ys,[s("div",ws,[s("div",bs,[i(E,{onPaginate_limit_update:q,pagination:p.value},null,8,["pagination"])]),s("div",ks,[i(b(T),{data:p.value,limit:5,onPaginationChangePage:c},null,8,["data"])])])])])]),_:1})}}};export{js as default};
