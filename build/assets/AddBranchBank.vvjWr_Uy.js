import A from"./ServerMessage.Wf7puwQc.js";import{u as q,r as w,e as x,b as S,g as c,h as i,i as s,t as u,k as l,w as C,Q as M,K as U,l as v,p as F,j as k}from"./index.GdMxdeuf.js";import{F as I}from"./vee-validate.esm.9aElOHQY.js";import{c as D,a as _,e as H}from"./index.esm.0vhAmrVd.js";import{_ as m}from"./VTextInput.ZgtOiOMJ.js";/* empty css                                                   */import{C as j}from"./ClipLoader.UcGuNCxH.js";import"./VTooltip.Ewb958d6.js";/* empty css                                                   */const O={class:"modal hide",id:"addBranchBankModal",tabindex:"-1","aria-labelledby":"Add Bank","aria-modal":"true",role:"dialog","data-bs-backdrop":"static","data-bs-keyboard":"false"},z={class:"modal-dialog modal-xl modal-dialog-centered"},E={class:"modal-content"},J={class:"modal-header"},K={class:"modal-title"},L={class:"modal-body"},Q={class:"row"},G={class:"col-md-4"},P={class:"col-md-4"},R={class:"col-md-4"},T={class:"row"},W={class:"col-md-4"},X={class:"col-md-4"},Y={class:"col-4 pt-4"},Z={class:"form-field"},ee={class:"form-check form-switch"},ae={class:"form-check-label",for:"status"},se={key:0,class:"py-3"},te={class:"mt-2 text-end"},ne=["disabled"],oe={key:1,class:"pt-0"},le={key:2,class:"pt-0"},ve={__name:"AddBranchBank",props:["show_add_bank_modal","edit_data","branch_slack"],emits:["closeAddBranchBankModal"],setup(f,{emit:g}){const{t:a}=q(),r=w({bank_name:a("Bank Name"),account_holder_name:a("Account Holder Name"),iban_number:a("IBAN Number"),account_number:a("Account Number"),ifsc_code:a("IFSC/Swift Code")}),b={server_messages:{type:"",messages:""},is_saving:!1,bank_name:"",account_holder_name:"",iban_number:"",account_number:"",ifsc_code:"",status:!1},e=x({...b});S();const y=D({bank_name:_().required(a("name is required",{name:a("Bank Name")})).min(3,a("name must be at least n characters",{name:a("Bank Name"),number:3})),account_holder_name:_().required(a("name is required",{name:a("Account Holder Name")})).min(3,a("name must be at least n characters",{name:a("Account Holder Name"),number:3})),iban_number:_().required(a("name is required",{name:a("IBAN Number")})).min(3,a("name must be at least n characters",{name:a("IBAN Number"),number:3})),account_number:_().required(a("name is required",{name:a("Account Number")})).min(3,a("name must be at least n characters",{name:a("Account Number"),number:3})),status:H().label("Status")}),p=g,B=f;function N(){h(),p("closeAddBranchBankModal")}async function V(d,n){var o=new FormData;o.append("branch_slack",B.branch_slack),o.append("bank_name",e.bank_name),o.append("account_holder_name",e.account_holder_name),o.append("iban_number",e.iban_number),o.append("account_number",e.account_number),o.append("ifsc_code",e.ifsc_code),o.append("status",e.status),await axios.post("/api/branch/bank/save",o).then(t=>{if(e.is_saving=!0,t.data.status_code==200)toast.success(t.data.msg),e.is_saving=!1,n.resetForm(),h();else{try{e.server_messages.type="error",e.server_messages.messages=JSON.parse(t.data.msg)}catch{e.server_messages.type="error",e.server_messages.messages=t.data.msg}e.is_saving=!1}}).catch(t=>{e.server_messages.type="error",e.server_messages.messages=t,e.is_saving=!1,console.log(t)})}function h(){Object.assign(e,b),$("#addBranchBankModal").modal("hide"),p("closeAddBranchBankModal")}return(d,n)=>{const o=A;return c(),i("div",O,[s("div",z,[s("div",E,[s("div",J,[s("h5",K,u(d.$t("Add Bank")),1),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:N})]),s("div",L,[l(k(I),{"validation-schema":k(y),onSubmit:V,enctype:"multipart/form-data","initial-values":e},{default:C(()=>[s("div",Q,[s("div",G,[l(m,{type:"text",name:"bank_name",modelValue:e.bank_name,"onUpdate:modelValue":n[0]||(n[0]=t=>e.bank_name=t),label:r.value.bank_name,required:!0},null,8,["modelValue","label"])]),s("div",P,[l(m,{type:"text",name:"account_holder_name",modelValue:e.account_holder_name,"onUpdate:modelValue":n[1]||(n[1]=t=>e.account_holder_name=t),label:r.value.account_holder_name,required:!0},null,8,["modelValue","label"])]),s("div",R,[l(m,{type:"text",name:"iban_number",modelValue:e.iban_number,"onUpdate:modelValue":n[2]||(n[2]=t=>e.iban_number=t),label:r.value.iban_number,required:!0},null,8,["modelValue","label"])])]),s("div",T,[s("div",W,[l(m,{type:"text",name:"account_number",modelValue:e.account_number,"onUpdate:modelValue":n[3]||(n[3]=t=>e.account_number=t),label:r.value.account_number,required:!0},null,8,["modelValue","label"])]),s("div",X,[l(m,{type:"text",name:"ifsc_code",modelValue:e.ifsc_code,"onUpdate:modelValue":n[4]||(n[4]=t=>e.ifsc_code=t),label:r.value.ifsc_code},null,8,["modelValue","label"])]),s("div",Y,[s("div",Z,[s("div",ee,[U(s("input",{class:"form-check-input me-2",type:"checkbox",role:"switch",id:"status",checked:"","onUpdate:modelValue":n[5]||(n[5]=t=>e.status=t)},null,512),[[M,e.status]]),s("label",ae,u(d.$t("Active")),1)])])])]),e.server_messages.messages!=""?(c(),i("div",se,[l(o,{server_messages:e.server_messages},null,8,["server_messages"])])):v("",!0),s("div",te,[s("button",{type:"submit",class:"btn btn-primary",disabled:e.is_saving},[e.is_saving?(c(),F(j,{key:0,color:"white",size:"20px",class:"pt-2 pe-2"})):v("",!0),e.is_saving?(c(),i("span",oe,u(d.$t("Saving...")),1)):(c(),i("span",le,u(d.$t("Save")),1))],8,ne)])]),_:1},8,["validation-schema","initial-values"])])])])])}}};export{ve as default};
