import{_ as N}from"./DefaultLayout.nvkZ4UhM.js";import{_ as E}from"./DataResetSkeleton.NDvEsVHk.js";import{_ as O}from"./VTextArea.uv2r4aOV.js";import{_ as U}from"./VTextInput.VtSvZjuc.js";import q from"./ServerMessage.I5ol-gtz.js";import{F as H}from"./vee-validate.esm.N3uz7Rsk.js";import{C as Z}from"./ClipLoader.1qNfpKDH.js";import{u as z,o as T,r as w,e as R,g as l,p as v,w as f,f as k,i as e,k as d,n as G,t,j as a,h as n,l as m,y as C}from"./index.7OFNPsHl.js";import{c as K,a as b}from"./index.esm.cd1bITNA.js";import"./VTooltip.n3SV8A0p.js";/* empty css                                                   */const P={class:"header-nav-wrap"},Y={class:"row align-items-center"},J={class:"col-auto"},Q={class:"header-back-link"},W={class:"col-auto"},X={class:"fw-bold"},ee={class:"content py-5"},se={key:0,class:"py-3"},oe={class:"row"},ae={class:"col-4 offset-4"},te={key:0,class:"card"},ie={class:"form-field"},le={class:"col-12"},ne={class:"form-field"},ce={class:"col-12"},de={class:"form-field"},_e={class:"row"},re={class:"label",for:""},me={class:"showupload-field"},pe={class:"py-3 ps-0"},fe={class:"row align-items-center justify-content-center"},ue=e("div",{class:"col-auto"},[e("svg",{width:"35",height:"20",viewBox:"0 0 35 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12.65 39.25C5.93966 39.25 0.5 33.707 0.5 26.875C0.5 21.4781 3.88934 16.8891 8.61687 15.1961C8.60591 14.9641 8.6 14.732 8.6 14.5C8.6 6.90312 14.6412 0.75 22.1 0.75C27.1034 0.75 31.4656 3.52148 33.8028 7.64219C35.0853 6.68828 36.6378 6.25 38.3 6.25C42.7719 6.25 46.4 9.86797 46.4 14.5C46.4 15.5484 46.2059 16.5453 45.86 17.4734C50.7875 18.4875 54.5 22.9305 54.5 28.25C54.5 34.3258 49.6653 39.25 43.7 39.25H12.65ZM19.3156 20.6016C18.5309 21.4094 18.5309 22.7156 19.3156 23.4461C20.1087 24.3227 21.3913 24.3227 22.1084 23.4461L25.475 20.1633V31.6875C25.475 32.8305 26.3778 33.75 27.5 33.75C28.6222 33.75 29.525 32.8305 29.525 31.6875V20.1633L32.8156 23.4461C33.6087 24.3227 34.8913 24.3227 35.6084 23.4461C36.4691 22.7156 36.4691 21.4094 35.6084 20.6016L28.8584 13.7266C28.1413 12.9273 26.8588 12.9273 26.0656 13.7266L19.3156 20.6016Z",fill:"#1E40AF"})])],-1),ge={class:"col-auto"},he={key:0,class:"col-4"},ve=["src"],Ce={class:"form-field"},ye={class:"row"},we={class:"label",for:""},ke={class:"showupload-field"},be={class:"py-3 ps-0"},Le={class:"row align-items-center justify-content-center"},Ve=e("div",{class:"col-auto"},[e("svg",{width:"35",height:"20",viewBox:"0 0 35 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12.65 39.25C5.93966 39.25 0.5 33.707 0.5 26.875C0.5 21.4781 3.88934 16.8891 8.61687 15.1961C8.60591 14.9641 8.6 14.732 8.6 14.5C8.6 6.90312 14.6412 0.75 22.1 0.75C27.1034 0.75 31.4656 3.52148 33.8028 7.64219C35.0853 6.68828 36.6378 6.25 38.3 6.25C42.7719 6.25 46.4 9.86797 46.4 14.5C46.4 15.5484 46.2059 16.5453 45.86 17.4734C50.7875 18.4875 54.5 22.9305 54.5 28.25C54.5 34.3258 49.6653 39.25 43.7 39.25H12.65ZM19.3156 20.6016C18.5309 21.4094 18.5309 22.7156 19.3156 23.4461C20.1087 24.3227 21.3913 24.3227 22.1084 23.4461L25.475 20.1633V31.6875C25.475 32.8305 26.3778 33.75 27.5 33.75C28.6222 33.75 29.525 32.8305 29.525 31.6875V20.1633L32.8156 23.4461C33.6087 24.3227 34.8913 24.3227 35.6084 23.4461C36.4691 22.7156 36.4691 21.4094 35.6084 20.6016L28.8584 13.7266C28.1413 12.9273 26.8588 12.9273 26.0656 13.7266L19.3156 20.6016Z",fill:"#1E40AF"})])],-1),$e={class:"col-auto"},Fe={key:0,class:"col-4"},Me=["src"],Ae={class:"form-field"},De={class:"row"},Se={class:"label",for:""},je={class:"showupload-field"},Be={class:"py-3 ps-0"},Ie={class:"row align-items-center justify-content-center"},xe=e("div",{class:"col-auto"},[e("svg",{width:"35",height:"20",viewBox:"0 0 35 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12.65 39.25C5.93966 39.25 0.5 33.707 0.5 26.875C0.5 21.4781 3.88934 16.8891 8.61687 15.1961C8.60591 14.9641 8.6 14.732 8.6 14.5C8.6 6.90312 14.6412 0.75 22.1 0.75C27.1034 0.75 31.4656 3.52148 33.8028 7.64219C35.0853 6.68828 36.6378 6.25 38.3 6.25C42.7719 6.25 46.4 9.86797 46.4 14.5C46.4 15.5484 46.2059 16.5453 45.86 17.4734C50.7875 18.4875 54.5 22.9305 54.5 28.25C54.5 34.3258 49.6653 39.25 43.7 39.25H12.65ZM19.3156 20.6016C18.5309 21.4094 18.5309 22.7156 19.3156 23.4461C20.1087 24.3227 21.3913 24.3227 22.1084 23.4461L25.475 20.1633V31.6875C25.475 32.8305 26.3778 33.75 27.5 33.75C28.6222 33.75 29.525 32.8305 29.525 31.6875V20.1633L32.8156 23.4461C33.6087 24.3227 34.8913 24.3227 35.6084 23.4461C36.4691 22.7156 36.4691 21.4094 35.6084 20.6016L28.8584 13.7266C28.1413 12.9273 26.8588 12.9273 26.0656 13.7266L19.3156 20.6016Z",fill:"#1E40AF"})])],-1),Ne={class:"col-auto"},Ee={key:0,class:"col-4"},Oe=["src"],Ue={class:"form-field pt-4"},qe={class:"col-12 text-center"},He=["disabled"],Ze={key:1,class:"pt-0"},ze={key:2,class:"pt-0"},os={__name:"app_setting",setup(Te){const{t:c}=z();T(()=>{$()});const L={server_messages:{type:"",messages:""},display_name:"",headoffice_address:"",logo:"",dark_logo:"",favicon_icn:"",is_submitting:!1},y=w({display_name:c("Display Name"),headoffice_address:c("Head Office Address")}),s=R({...L}),V=K().shape({display_name:b().required(c("name is required",{name:c("Display Name")})),headoffice_address:b().required(c("name is required",{name:c("Head Office Address")}))}),u=w(!1);async function $(){await axios.get("/api/app_settings").then(o=>{o.data!=""&&(s.display_name=r(o.data,"DISPLAY_NAME"),s.headoffice_address=r(o.data,"HEADOFFICE_ADDRESS"),s.logo=r(o.data,"LOGO"),s.dark_logo=r(o.data,"DARK_LOGO"),s.favicon_icn=r(o.data,"FAVICON_ICN")),u.value=!0}).catch(o=>{s.server_messages.type="error",s.server_messages.messages=o,console.log(o)})}async function F(){var o=new FormData;o.append("display_name",s.display_name),o.append("headoffice_address",s.headoffice_address),o.append("logo",s.logo),o.append("dark_logo",s.dark_logo),o.append("favicon_icn",s.favicon_icn),await axios.post("/api/app_settings/update",o,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>{toast.success(i.data.msg),u.value=!1}).catch(i=>{s.server_messages.type="error",s.server_messages.messages=i,console.log(i)})}async function M(o){s.logo=o.target.files[0]}async function A(o){s.dark_logo=o.target.files[0]}async function D(o){s.favicon_icn=o.target.files[0]}function r(o,i){if(o!=""||o.length){let p=_.filter(o,g=>g.key==i);return p.length?p[0].value:""}}return(o,i)=>{const p=k("Icon"),g=k("router-link"),S=q,j=U,B=O,I=E,x=N;return l(),v(x,null,{subheader:f(()=>[e("div",P,[e("div",Y,[e("div",J,[e("div",Q,[d(g,{class:"text-primary",to:"/settings"},{default:f(()=>[d(p,{icon:"fa6-solid:chevron-left"}),G(" "+t(o.$t("Settings")),1)]),_:1})])]),e("div",W,[e("h5",X,t(o.$t("App Setting")),1)])])])]),default:f(()=>[e("div",ee,[a(s).server_messages.messages!=""?(l(),n("div",se,[d(S,{server_messages:a(s).server_messages},null,8,["server_messages"])])):m("",!0),e("div",oe,[e("div",ae,[u.value?(l(),n("div",te,[d(a(H),{"validation-schema":a(V),enctype:"multipart/form-data","initial-values":a(s),onSubmit:F},{default:f(()=>[e("div",ie,[e("div",le,[d(j,{type:"text",name:"display_name",modelValue:a(s).display_name,"onUpdate:modelValue":i[0]||(i[0]=h=>a(s).display_name=h),label:y.value.display_name,required:!0},null,8,["modelValue","label"])])]),e("div",ne,[e("div",ce,[d(B,{label:y.value.headoffice_address,name:"headoffice_address",modelValue:a(s).headoffice_address,"onUpdate:modelValue":i[1]||(i[1]=h=>a(s).headoffice_address=h),rows:"1",required:!0},null,8,["label","modelValue"])])]),e("div",de,[e("div",_e,[e("div",{class:C([a(s).logo==""||a(s).logo==null?"col-md-12":"col-md-8"])},[e("label",re,t(o.$t("Logo")),1),e("div",me,[e("label",null,[e("input",{type:"file",name:"logo",id:"logo",accept:"image/jpg, image/jpeg, image/png",onChange:M,ref:"logo"},null,544),e("span",pe,[e("div",fe,[ue,e("div",ge,[e("h5",null,t(o.$t("Upload File")),1),e("h6",null,t(o.$t("Max File Size"))+" : 1MB",1)])])])])])],2),a(s).logo!=""||a(s).logo!=null?(l(),n("div",he,[e("img",{src:a(s).logo,alt:"",class:"w-100 mt-3 img img-thumbnail"},null,8,ve)])):m("",!0)])]),e("div",Ce,[e("div",ye,[e("div",{class:C([a(s).dark_logo==""||a(s).dark_logo==null?"col-md-12":"col-md-8"])},[e("label",we,t(o.$t("Dark Logo")),1),e("div",ke,[e("label",null,[e("input",{type:"file",name:"dark_logo",id:"dark_logo",accept:"image/jpg, image/jpeg, image/png",onChange:A,ref:"dark_logo"},null,544),e("span",be,[e("div",Le,[Ve,e("div",$e,[e("h5",null,t(o.$t("Upload File")),1),e("h6",null,t(o.$t("Max File Size"))+" : 1MB",1)])])])])])],2),a(s).dark_logo!=""||a(s).dark_logo!=null?(l(),n("div",Fe,[e("img",{src:a(s).dark_logo,alt:"",class:"w-100 mt-3 img img-thumbnail"},null,8,Me)])):m("",!0)])]),e("div",Ae,[e("div",De,[e("div",{class:C([a(s).favicon_icn==""||a(s).favicon_icn==null?"col-md-12":"col-md-8"])},[e("label",Se,t(o.$t("Favicon Icon")),1),e("div",je,[e("label",null,[e("input",{type:"file",name:"favicon_icn",id:"favicon_icn",accept:".ico, image/jpg, image/jpeg, image/png",onChange:D,ref:"favicon_icn"},null,544),e("span",Be,[e("div",Ie,[xe,e("div",Ne,[e("h5",null,t(o.$t("Upload File")),1),e("h6",null,t(o.$t("Max File Size"))+" : 1MB",1)])])])])])],2),a(s).favicon_icn!=""||a(s).favicon_icn!=null?(l(),n("div",Ee,[e("img",{src:a(s).favicon_icn,alt:"",class:"w-100 mt-3 img img-thumbnail"},null,8,Oe)])):m("",!0)])]),e("div",Ue,[e("div",qe,[e("button",{type:"submit",class:"btn btn-primary",disabled:a(s).is_submitting},[a(s).is_submitting?(l(),v(Z,{key:0,color:"white",size:"20px",class:"pt-2 pe-2"})):m("",!0),a(s).is_submitting?(l(),n("span",Ze,t(o.$t("Updating...")),1)):(l(),n("span",ze,t(o.$t("Update")),1))],8,He)])])]),_:1},8,["validation-schema","initial-values"])])):(l(),v(I,{key:1}))])])])]),_:1})}}};export{os as default};
