import{u as be,r as b,a as he,b as ge,d as B,e as H,s as ve,o as fe,g as c,h as m,j as e,p as U,w as Q,l as x,t as u,n as q,k as r,i as s,F as P,x as E,M as f,K as v,y as ke,Q as Ve,q as K,_ as Y,I as xe}from"./index.7OFNPsHl.js";import{_ as qe}from"./EditFormSkeleton.hbjdnq7m.js";import{_ as we}from"./VRadio.JTuzCOQM.js";import{_ as Ue}from"./VMultiSelect.XXz7TsgF.js";import{_ as Se}from"./VTextInput.VtSvZjuc.js";import{_ as Ce}from"./VSelectInput.LiAW_8HB.js";import{_ as Pe}from"./VTooltip.n3SV8A0p.js";import{u as Ie,a as I,F as $e}from"./vee-validate.esm.N3uz7Rsk.js";import{c as Te,a as $,e as Ae,d as W}from"./index.esm.cd1bITNA.js";import{C as Ee}from"./ClipLoader.1qNfpKDH.js";/* empty css                                                   */const Ne={class:"row"},Me={class:"col-md-12"},Oe={class:"row"},De={class:"col-md-12"},Re={class:"card"},Fe={class:"row mb-3 mb-lg-5"},Be={class:"section-title pb-2"},Qe={class:"section-title pb-2 text-muted"},ze={class:"col-6 col-md-4 col-lg-3"},je={class:"col-6 col-md-4 col-lg-3"},Le={class:"col-12 col-md-4 col-lg-3"},Ge={class:"form-field"},Je={class:"input-group input-file-group"},He={class:"btn btn-light-primary min-width-0 mb-0",for:"formFile"},Ke={class:"col-8 col-md-4 col-lg-3"},Ye={class:"col-auto col-md-2 col-lg-3 pt-4"},We={class:"form-field"},Xe={class:"form-check form-switch"},Ze={class:"form-check-label",for:"status"},et=s("em",null,"*",-1),tt={class:"col-6 col-md-3 col-lg-3"},at={class:"col-6 col-md-3 col-lg-3"},ot={class:"col-6 col-md-3 col-lg-3"},nt={class:""},st={key:0,class:"pt-4"},lt={class:"form-field"},it={class:"form-check form-switch"},rt={class:"form-check-label",for:"is_stockable"},dt=s("em",null,"*",-1),ct={key:0,class:"col-6 col-md-4 col-lg-3"},_t={class:"form-field"},ut={for:""},mt=s("em",{class:"text-danger"},"*",-1),pt={value:""},yt=["label"],bt=["value"],ht={key:1,class:"col-6 col-md-4 col-lg-3"},gt={class:"form-field"},vt={for:""},ft=s("em",{class:"text-danger"},"*",-1),kt={value:""},Vt=["label"],xt=["value"],qt={class:"row"},wt={class:"section-title pb-2 text-muted"},Ut={key:0,class:"col-6 col-md-4 col-lg-3"},St={class:"col-6 col-md-4 col-lg-3"},Ct={class:"col-6 col-md-4 col-lg-3"},Pt={class:"col-6 col-md-4 col-lg-3"},It={class:"col-6 col-md-4 col-lg-3"},$t={class:"col-6 col-md-4 col-lg-3"},Tt={class:"col-6 col-md-4 col-lg-3"},At={class:"col-6 col-md-4 col-lg-3"},Et={class:"col-6 col-md-4 col-lg-3"},Nt={class:"col-6 col-md-4 col-lg-3"},Mt={class:"col-6 col-md-4 col-lg-3"},Ot={class:"col-6 col-md-4 col-lg-3 pt-md-3"},Dt={class:"form-field"},Rt={class:"form-check form-switch"},Ft={class:"form-check-label",for:"is_refundable"},Bt=s("input",{type:"hidden",name:"slack"},null,-1),Qt={class:"col-md-12"},zt={class:"card"},jt={class:"row"},Lt={class:"section-title pb-2 text-muted"},Gt={class:"col-6 col-md-4 col-lg-3"},Jt={key:0},Ht=s("i",{class:"text-primary"},"Total is based on ingredient's product total.",-1),Kt=[Ht],Yt={key:0,class:"col-6 col-md-4 col-lg-3"},Wt={class:"col-6 col-md-4 col-lg-3"},Xt={key:1,class:"col-6 col-md-4 col-lg-3"},Zt={class:"col-6 col-md-5 col-lg-3"},ea={class:"col-auto mt-4"},ta={class:"form-field",type:"radio"},aa={class:"label"},oa={class:"form-check form-switch mt-md-3"},na=["onUpdate:modelValue","checked","onChange"],sa=s("span",{class:"ps-2"},"Active",-1),la={class:"text-end"},ia=["disabled"],ra={key:1,class:"pt-0"},da={key:2,class:"pt-0"},Va={__name:"AddProduct",props:["action"],setup(X){Ie();const Z=K(()=>Y(()=>import("./AddCategory.PP9YcNT2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),{t:l}=be(),{isAuthorized:z}=xe();localStorage.getItem("language");const i=b({type:l("Product Type"),name:l("Product Name"),select_categories:l("Select Categories"),price_type:l("Price Type"),select_tax:l("Select Tax"),short_description:l("Short Description"),upc:l("UPC (Barcode)"),mpn:l("MPN (Manufacturing Part Number)"),ean:l("EAN (13 Digit International Article Number)"),manufacturer:l("Manufacturer"),brand:l("Brand"),alert_quantity:l("Alert Quantity"),calories:l("Calories"),preparation_time:l("Preparation Time (In Mins)"),purchase_price:l("Purchase Price (Exclusive Tax)"),price_type_tooltip:l("Open price can be added from cashier screen"),stock_unit_tooltip:l("Stock unit is your storage unit, i.e sugar can be stored in kilograms"),sale_unit_tooltip:l("Sales unit is your selling unit i.e sugar can be sold in grams"),dietary:l("Dietary"),per:l("Per"),per_unit:l("Per Unit"),master_product_tooltip:l("This master product will be visible on all branches."),branch_product_tooltip:l("Stock only for this branch."),sales_price_inc_tax:l("Sale Price (Incl. Tax)"),sales_price_exc_tax:l("Sale Price (Excl. Tax)"),quantity:l("Quantity In Hand"),sku:l("SKU"),show_in:l("Show In"),unit:l("Unit")});b("");const ee=K(()=>Y(()=>import("./ServerMessage.I5ol-gtz.js"),__vite__mapDeps([1,2,3]))),V=he().params.slack,T=ge(),A=B(()=>T.user.currency.symbol);function te(){J()}const k=H({type:"",messages:""}),S=H({sale_measurement_unit:"Unit",stock_measurement_unit:"Unit"}),t=b({is_submitting:!1,type:1,name:"",sale_price:"",stock_measurement_unit_id:"",sale_measurement_unit_id:"",categories:"",is_stockable:!0,status:!0,image:"",name_ar:"",short_description:"",upc:"",mpn:"",ean:"",manufacturer:"",brand:"",purchase_price:"",price_type:1,alert_quantity:"",dietary:"",is_refundable:!0,calories:"",preparation_time:"",tax_id:"",slack:"",other_tax_type:"",additional_fee_id:"",inventory_slack:"",inventory_sale_price:0,inventory_quantity:0,inventory_sku:"",inventory_alert_quantity:"",inventory_show_in:"",inventory_is_favorite:!1,only_for_this_branch:!1,inventory_status:!0,is_quantity_readonly:!1,is_ingredients_total_price:!1}),N=b([{id:1,name:l("Product")},{id:2,name:l("Recipe")},{id:4,name:l("Service")}]),ae=b([{id:1,name:l("Fixed")},{id:2,name:l("Open")}]),oe=b([{id:"",name:l("None")},{id:1,name:l("Veg")},{id:2,name:l("Non Veg")}]),ne=b([{name:l("Everywhere"),value:""},{name:"POS",value:"POS"},{name:"INVOICE",value:"INVOICE"}]);b([{id:"",name:l("None")},{id:1,name:l("Tobacco Tax")},{id:2,name:l("Additional Fee")}]);const w=B(()=>T.user.merchant.layout);ve(Multiselect);const se=Te({type:$().required(l("name is required",{name:l("Product Type")})),name:$().required(l("name is required",{name:l("Product Name")})).min(3,l("name must be at least n characters",{name:l("Product Name"),number:3})).max(20,l("Must be less than 20 characters",{name:l("Product Name"),number:20})),status:Ae().label("Status"),ean:$().when({is:()=>w.value==2,then:o=>o.min(13).max(13).nullable(!0).notRequired(!0).transform((a,p)=>p>0?p:null),otherwise:o=>o.nullable(!0).notRequired(!0)}).label("EAN"),categories:$().required(l("name is required",{name:l("Category")})),inventory_sale_price:W().typeError(l("must be a number",{name:l("Sale Price")})).required(l("name is required",{name:l("Sale Price")})).positive(l("must be grater than 0",{name:l("Sale Price")})),inventory_quantity:W().typeError(l("must be a number",{name:l("Quantity")})).when({is:()=>t.value.is_stockable,then:o=>o.required(l("name is required",{name:l("Quantity")})).moreThan(-1,"Quantity cannot be negative"),otherwise:o=>o.nullable()}),inventory_alert_quantity:$().matches(/^([.0-9]{0,9999999999999})$/,l("Alert Quantity must be a positive number or 0"))});async function le(o){t.value.image=o.target.files[0]}fe(()=>{J(),!_.isUndefined(localStorage.getItem("product_form_data"))&&localStorage.getItem("product_form_data")!=null&&(t.value=JSON.parse(localStorage.getItem("product_form_data")),localStorage.removeItem("product_form_data")),ie()});const j=b({write:!1,delete:!1});function ie(){j.value={write:z("A_WRITE_CATEGORY"),delete:z("A_DELETE_CATEGORY")}}b([]),b([]);const L=b(!1);async function re(){let o=await axios.get("/api/v2/product/edit/"+V);t.value=o.data.data.product,t.value.image="",t.value.categories=[],Object.keys(t.value.product_categories).forEach(a=>{var p;t.value.categories=(p=t.value.product_categories[a].category)==null?void 0:p.id}),o.data.data.product.sale_measurement_unit_id!=null&&o.data.data.product.sale_measurement_unit_id!=""&&(S.sale_measurement_unit=o.data.data.product.sale_measurement_unit.abbreviation),o.data.data.product.stock_measurement_unit_id!=null&&o.data.data.product.stock_measurement_unit_id!=""&&(S.stock_measurement_unit=o.data.data.product.stock_measurement_unit.abbreviation),L.value=!0,t.value.this_branch_inventory!=null?(t.value.inventory_slack=t.value.this_branch_inventory.slack,t.value.inventory_sale_price=t.value.this_branch_inventory.sale_price,t.value.inventory_quantity=t.value.this_branch_inventory.quantity,t.value.inventory_sku=t.value.this_branch_inventory.sku,t.value.is_ingredients_total_price=t.value.this_branch_inventory.is_ingredients_total_price==1,t.value.inventory_alert_quantity=t.value.this_branch_inventory.alert_quantity,t.value.inventory_show_in=t.value.this_branch_inventory.show_in,t.value.inventory_status=t.value.this_branch_inventory.status==1,t.value.is_quantity_readonly=!G.value):(t.value.inventory_show_in="",t.value.inventory_status=!0,t.value.is_quantity_readonly=!1)}const M=b([]),O=b([]),D=b([]),de=X,G=B(()=>!_.isUndefined(de.action));async function J(){await axios.get("/api/product/add").then(o=>{if(O.value=o.data.data.categories,D.value=o.data.data.taxes,M.value=o.data.data.measurements,_.isUndefined(V)||re(),_.isUndefined(V)){var a=D.value.find(function(p){if(p.is_country_default_tax==1)return p.id});a&&a!=null&&(t.value.tax_id=a.id)}}).catch(o=>{k.type="error",k.messages=o,t.value.is_submitting=!1})}async function ce(o){t.value.is_submitting=!0;var a=new FormData;a.append("type",o.type),a.append("name",o.name),a.append("sale_price",o.sale_price),a.append("categories",JSON.stringify([o.categories])),a.append("is_stockable",o.is_stockable),a.append("status",o.status),a.append("image",t.value.image),a.append("tax_id",o.tax_id),a.append("short_description",o.short_description),a.append("upc",o.upc),a.append("mpn",o.mpn),a.append("ean",o.ean),a.append("manufacturer",o.manufacturer),a.append("brand",o.brand),a.append("purchase_price",o.purchase_price),a.append("price_type",o.price_type),a.append("dietary",o.dietary),a.append("is_refundable",o.is_refundable),a.append("calories",o.calories),a.append("preparation_time",o.preparation_time),a.append("slack",V),a.append("inventory_slack",o.inventory_slack),a.append("inventory_sale_price",o.inventory_sale_price),a.append("inventory_quantity",o.inventory_quantity!=null?o.inventory_quantity:0),a.append("inventory_sku",o.inventory_sku!=null?o.inventory_sku:""),a.append("inventory_alert_quantity",o.inventory_alert_quantity),a.append("inventory_show_in",o.inventory_show_in!=null?o.inventory_show_in:""),a.append("inventory_status",o.inventory_status=="1"),o.is_stockable&&(o.stock_measurement_unit_id!=""&&a.append("stock_measurement_unit_id",o.stock_measurement_unit_id?o.stock_measurement_unit_id:""),o.sale_measurement_unit_id!=""&&a.append("sale_measurement_unit_id",o.sale_measurement_unit_id?o.sale_measurement_unit_id:""));var p=G.value?"/api/product/clone":V!=""&&V!=null?"/api/product/update":"/api/product/save";await axios.post(p,a,{headers:{"Content-Type":"multipart/form-data"}}).then(h=>{if(h.data.status_code==200)toast.success(h.data.msg),t.value.is_submitting=!1,_e(),router.push("/products");else{try{k.type="error",k.messages=JSON.parse(h.data.msg)}catch{k.type="error",k.messages=h.data.msg}t.value.is_submitting=!1}}).catch(h=>{k.type="error",k.messages=h,t.value.is_submitting=!1})}function _e(){Object.assign(t,t)}w.value==2&&(N.value=_.filter(N.value,o=>o.id!=2));async function ue(){event.target.value==4&&(t.value.is_stockable=0)}return(o,a)=>{const p=Pe,h=Ce,y=Se,me=Ue,pe=we,ye=qe;return c(),m(P,null,[e(V)==""||e(V)==null||e(V)!=""&&e(L)?(c(),U(e($e),{key:0,"validation-schema":e(se),onSubmit:ce,enctype:"multipart/form-data","initial-values":e(t)},{default:Q(({setFieldValue:C,values:d})=>[s("div",Ne,[k.messages!=""?(c(),U(e(ee),{key:0,class:"py-3",server_messages:k},null,8,["server_messages"])):x("",!0),s("div",Me,[s("div",Oe,[s("div",De,[s("div",Re,[s("div",Fe,[s("h4",Be,[q(u(o.$t("Master Product Details"))+":",1),r(p,{message:e(i).master_product_tooltip},null,8,["message"])]),s("h5",Qe,u(o.$t("Basic Details"))+":",1),s("div",ze,[r(h,{name:"type",label:e(i).type,required:"",options:e(N),modelValue:e(t).type,"onUpdate:modelValue":a[0]||(a[0]=n=>e(t).type=n),size:"normal",onChange:ue},null,8,["label","options","modelValue"])]),s("div",je,[r(y,{type:"text",name:"name",label:e(i).name,required:!0,modelValue:e(t).name,"onUpdate:modelValue":a[1]||(a[1]=n=>e(t).name=n)},null,8,["label","modelValue"])]),s("div",Le,[s("div",Ge,[s("label",null,u(o.$t("Product Image")),1),s("div",Je,[s("input",{class:"form-control form-control-solid",name:"image",type:"file",id:"formFile",accept:"image/jpg, image/jpeg, image/png",onChange:le},null,32),s("label",He,u(o.$t("Upload")),1)])])]),s("div",Ke,[e(j).write?(c(),U(h,{key:0,name:"categories",label:e(i).select_categories,text:"name",value:"slack",options:e(O),required:"",selected:e(t).categories,modelValue:e(t).categories,"onUpdate:modelValue":a[2]||(a[2]=n=>e(t).categories=n),addModalShow:!0,addModalId:"#addCategoryModal",mode:"single"},null,8,["label","options","selected","modelValue"])):(c(),U(h,{key:1,name:"categories",label:e(i).select_categories,text:"name",value:"slack",options:e(O),required:"",selected:e(t).categories,modelValue:e(t).categories,"onUpdate:modelValue":a[3]||(a[3]=n=>e(t).categories=n),mode:"single"},null,8,["label","options","selected","modelValue"]))]),s("div",Ye,[s("div",We,[s("div",Xe,[r(e(I),{class:"form-check-input me-2",type:"checkbox",role:"switch",name:"status",id:"status","unchecked-value":!1,value:!0,modelValue:e(t).status,"onUpdate:modelValue":a[4]||(a[4]=n=>e(t).status=n),onChange:n=>C("status",n.target.checked)},null,8,["modelValue","onChange"]),s("label",Ze,[q(u(o.$t("Active"))+" ",1),et])])])]),s("div",tt,[r(h,{name:"price_type",label:e(i).price_type,required:"",size:"normal",options:e(ae),tooltip:e(i).price_type_tooltip,modelValue:e(t).price_type,"onUpdate:modelValue":a[5]||(a[5]=n=>e(t).price_type=n)},null,8,["label","options","tooltip","modelValue"])]),s("div",at,[r(h,{name:"tax_id",label:e(i).select_tax,text:"name",value:"id",mode:"single",selected:e(t).tax_id,options:e(D),modelValue:e(t).tax_id,"onUpdate:modelValue":a[6]||(a[6]=n=>e(t).tax_id=n)},null,8,["label","selected","options","modelValue"])]),s("div",ot,[s("div",nt,[d.type!=4?(c(),m("div",st,[s("div",lt,[s("div",it,[r(e(I),{class:"form-check-input me-2",type:"checkbox",role:"switch",name:"is_stockable",id:"is_stockable","unchecked-value":!1,value:!0,modelValue:e(t).is_stockable,"onUpdate:modelValue":a[7]||(a[7]=n=>e(t).is_stockable=n),onChange:n=>C("is_stockable",n.target.checked)},null,8,["modelValue","onChange"]),s("label",rt,[q(u(o.$t("Stockable"))+" ",1),dt])])])])):x("",!0)])]),d.type==1&&d.is_stockable?(c(),m("div",ct,[s("div",_t,[s("label",ut,[q(u(o.$t("Stock Unit"))+" ",1),mt,r(p,{message:e(i).stock_unit_tooltip},null,8,["message"])]),r(e(I),{as:"select",name:"stock_measurement_unit_id",id:"",class:"form-control form-control-solid",modelValue:e(t).stock_measurement_unit_id,"onUpdate:modelValue":a[8]||(a[8]=n=>e(t).stock_measurement_unit_id=n)},{default:Q(()=>[s("option",pt,u(o.$t("Units")),1),(c(!0),m(P,null,E(e(M),(n,R)=>v((c(),m("optgroup",{key:R,label:n.name+" "+(n.name_ar!=""&&n.name_ar!=null&&n.name_ar!="null"?n.name_ar:"")},[(c(!0),m(P,null,E(n.units,(g,F)=>(c(),m("option",{key:F,value:g.id},u(g.unit_name)+" "+u(g.unit_name_ar!=""&&g.unit_name_ar!=null&&g.unit_name_ar!="null"?g.unit_name_ar:""),9,bt))),128))],8,yt)),[[f,n.status==1]])),128))]),_:1},8,["modelValue"])])])):x("",!0),d.type==1&&d.is_stockable?(c(),m("div",ht,[s("div",gt,[s("label",vt,[q(u(o.$t("Sales Unit"))+" ",1),ft,r(p,{message:e(i).sale_unit_tooltip},null,8,["message"])]),r(e(I),{as:"select",name:"sale_measurement_unit_id",class:"form-control form-control-solid",modelValue:e(t).sale_measurement_unit_id,"onUpdate:modelValue":a[9]||(a[9]=n=>e(t).sale_measurement_unit_id=n)},{default:Q(()=>[s("option",kt,u(o.$t("Units")),1),(c(!0),m(P,null,E(e(M),(n,R)=>v((c(),m("optgroup",{key:R,label:n.name+" "+(n.name_ar!=""&&n.name_ar!=null&&n.name_ar!="null"?n.name_ar:"")},[(c(!0),m(P,null,E(n.units,(g,F)=>(c(),m("option",{key:F,value:g.id},u(g.unit_name)+" "+u(g.unit_name_ar!=""&&g.unit_name_ar!=null&&g.unit_name_ar!="null"?g.unit_name_ar:""),9,xt))),128))],8,Vt)),[[f,n.status==1]])),128))]),_:1},8,["modelValue"])])])):x("",!0)]),s("div",qt,[s("h5",wt,u(o.$t("Optional Details"))+": ",1),e(t).other_tax_type==2?(c(),m("div",Ut,[r(me,{name:"additional_fee_id",label:e(i).additional_fee,text:"name",value:"id",mode:"single",selected:e(t).additional_fee_id,options:o.additional_fees,required:""},null,8,["label","selected","options"])])):x("",!0),s("div",St,[r(y,{type:"text",name:"short_description",label:e(i).short_description,modelValue:e(t).short_description,"onUpdate:modelValue":a[10]||(a[10]=n=>e(t).short_description=n)},null,8,["label","modelValue"])]),v(s("div",Ct,[r(y,{type:"text",name:"upc",label:e(i).upc,modelValue:e(t).upc,"onUpdate:modelValue":a[11]||(a[11]=n=>e(t).upc=n)},null,8,["label","modelValue"])],512),[[f,d.type==1||d.type==2]]),v(s("div",Pt,[r(y,{type:"text",name:"mpn",label:e(i).mpn,modelValue:e(t).mpn,"onUpdate:modelValue":a[12]||(a[12]=n=>e(t).mpn=n)},null,8,["label","modelValue"])],512),[[f,d.type==1&&w.value==2]]),v(s("div",It,[r(y,{type:"text",name:"ean",label:e(i).ean,modelValue:e(t).ean,"onUpdate:modelValue":a[13]||(a[13]=n=>e(t).ean=n)},null,8,["label","modelValue"])],512),[[f,d.type==1&&w.value==2]]),v(s("div",$t,[r(y,{type:"text",name:"manufacturer",label:e(i).manufacturer,modelValue:e(t).manufacturer,"onUpdate:modelValue":a[14]||(a[14]=n=>e(t).manufacturer=n)},null,8,["label","modelValue"])],512),[[f,d.type==1&&w.value==2]]),v(s("div",Tt,[r(y,{type:"text",name:"brand",label:e(i).brand,modelValue:e(t).brand,"onUpdate:modelValue":a[15]||(a[15]=n=>e(t).brand=n)},null,8,["label","modelValue"])],512),[[f,d.type==1&&w.value==2]]),v(s("div",At,[r(y,{type:"number",name:"purchase_price",label:e(i).purchase_price,input_group_text:d.stock_measurement_unit_id?A.value+"/ "+e(i).per+" "+S.stock_measurement_unit:A.value+"/ "+e(i).per_unit,modelValue:e(t).purchase_price,"onUpdate:modelValue":a[16]||(a[16]=n=>e(t).purchase_price=n),min:0},null,8,["label","input_group_text","modelValue"])],512),[[f,d.type==1]]),v(s("div",Et,[r(h,{name:"dietary",label:e(i).dietary,options:e(oe),modelValue:e(t).dietary,"onUpdate:modelValue":a[17]||(a[17]=n=>e(t).dietary=n),selected:e(t).dietary,size:"normal"},null,8,["label","options","modelValue","selected"])],512),[[f,d.type==1||d.type==2]]),v(s("div",Nt,[r(y,{type:"number",name:"calories",label:e(i).calories,modelValue:e(t).calories,"onUpdate:modelValue":a[18]||(a[18]=n=>e(t).calories=n),min:0},null,8,["label","modelValue"])],512),[[f,d.type==1||d.type==2]]),v(s("div",Mt,[r(y,{type:"number",name:"preparation_time",label:e(i).preparation_time,modelValue:e(t).preparation_time,"onUpdate:modelValue":a[19]||(a[19]=n=>e(t).preparation_time=n),min:0},null,8,["label","modelValue"])],512),[[f,d.type==2]]),v(s("div",Ot,[s("div",Dt,[s("div",Rt,[r(e(I),{class:"form-check-input me-2",role:"switch",name:"is_refundable",id:"is_refundable",label:"Refundable",type:"checkbox","unchecked-value":!1,value:!0,modelValue:e(t).is_refundable,"onUpdate:modelValue":a[20]||(a[20]=n=>e(t).is_refundable=n),onChange:n=>C("is_refundable",n.target.checked)},null,8,["modelValue","onChange"]),s("label",Ft,u(o.$t("Refundable (Can be returned)")),1)])])],512),[[f,d.type==1||d.type==2]]),Bt])])]),s("div",Qt,[s("div",zt,[s("div",jt,[s("h5",Lt,[q(u(e(T).user.login_branch.name)+"'s "+u(o.$t("In Hand Inventory Details"))+":",1),r(p,{message:e(i).branch_product_tooltip},null,8,["message"])]),s("div",Gt,[r(y,{type:"number",name:"inventory_sale_price",input_group_text:e(t).is_stockable&&e(t).sale_measurement_unit_id?A.value+"/ "+e(i).per+" "+S.sale_measurement_unit:A.value+"/ "+e(i).per_unit,modelValue:e(t).inventory_sale_price,"onUpdate:modelValue":a[21]||(a[21]=n=>e(t).inventory_sale_price=n),step:"1",label:e(T).user.login_branch.tax_inclusive_pricing?e(i).sales_price_inc_tax:e(i).sales_price_exc_tax,readonly:e(t).is_ingredients_total_price,required:"",class:"mb-0"},null,8,["input_group_text","modelValue","label","readonly"]),e(t).is_ingredients_total_price?(c(),m("span",Jt,Kt)):x("",!0)]),e(t).is_stockable==!0?(c(),m("div",Yt,[r(y,{type:"number",name:"inventory_quantity",label:e(i).quantity,modelValue:e(t).inventory_quantity,"onUpdate:modelValue":a[22]||(a[22]=n=>e(t).inventory_quantity=n),input_group_text:e(t).is_stockable&&e(t).stock_measurement_unit_id?S.stock_measurement_unit:e(i).unit,required:"",readonly:e(t).is_quantity_readonly,class:ke(e(t).is_quantity_readonly==!0?"pe-none":"")},null,8,["label","modelValue","input_group_text","readonly","class"])])):x("",!0),s("div",Wt,[r(y,{type:"text",name:"inventory_sku",label:e(i).sku,modelValue:d.inventory_sku,"onUpdate:modelValue":n=>d.inventory_sku=n},null,8,["label","modelValue","onUpdate:modelValue"])]),e(t).is_stockable==!0?(c(),m("div",Xt,[r(y,{type:"number",name:"inventory_alert_quantity",label:e(i).alert_quantity,modelValue:d.inventory_alert_quantity,"onUpdate:modelValue":n=>d.inventory_alert_quantity=n,min:0},null,8,["label","modelValue","onUpdate:modelValue"])])):x("",!0),s("div",Zt,[r(pe,{type:"radio",name:"inventory_show_in",modelValue:d.inventory_show_in,"onUpdate:modelValue":n=>d.inventory_show_in=n,label:e(i).show_in,options:e(ne),onChange:n=>C("inventory_show_in",n.target.value)},null,8,["modelValue","onUpdate:modelValue","label","options","onChange"])]),s("div",ea,[s("div",ta,[s("label",aa,u(o.$t("Inventory Status")),1),s("div",oa,[v(s("input",{class:"form-check-input",name:"inventory_status",type:"checkbox",role:"switch",id:"inventory_status","onUpdate:modelValue":n=>d.inventory_status=n,checked:e(t).inventory_status,onChange:n=>C("inventory_status",n.target.checked)},null,40,na),[[Ve,d.inventory_status]]),q(),sa])])])])])])])])]),s("div",la,[s("button",{type:"submit",class:"btn btn-primary",disabled:e(t).is_submitting},[e(t).is_submitting?(c(),U(Ee,{key:0,color:"white",size:"20px",class:"pt-2 pe-2"})):x("",!0),e(t).is_submitting?(c(),m("span",ra,u(o.$t("Saving...")),1)):(c(),m("span",da,u(o.$t("Save")),1))],8,ia)])]),_:1},8,["validation-schema","initial-values"])):(c(),U(ye,{key:1})),r(e(Z),{onCloseAddCategoryModal:te})],64)}}};export{Va as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddCategory.PP9YcNT2.js","assets/ServerMessage.I5ol-gtz.js","assets/index.7OFNPsHl.js","assets/index.1t-AB2n6.css","assets/VSelectInput.LiAW_8HB.js","assets/VTooltip.n3SV8A0p.js","assets/vee-validate.esm.N3uz7Rsk.js","assets/index.esm.cd1bITNA.js","assets/VTextInput.VtSvZjuc.js","assets/ClipLoader.1qNfpKDH.js","assets/ClipLoader.7xz7y6gZ.css","assets/BeatLoader.5j6ku4bW.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
