import{u as Ce,r as g,a as Pe,b as $e,d as X,e as E,o as Ue,g as v,h as b,j as y,p as N,w as Ae,m as q,t as d,i as t,l as m,Q as Y,K as C,k as T,F as R,N as D,x as Z,y as Fe,q as ee,_ as te}from"./index.li3fCRRM.js";import{_ as Ee}from"./AddSupplier.JKvRRqnw.js";import{_ as Ne}from"./EditFormSkeleton.rDEkHHXB.js";import{_ as Oe}from"./VTooltip.pHzwBjkF.js";import{_ as Me}from"./VTextInput.pcaNaUkX.js";import{_ as Te}from"./VSelect.xfZK6hek.js";import{_ as Re}from"./VMultiSelect.2M-H_LD-.js";import{a as ae,E as se,F as De}from"./vee-validate.esm.reM-LHjC.js";import{c as I,a as V,b as O,h as oe}from"./index.esm.e6McCFlz.js";/* empty css                                                   */import{C as Ie}from"./ClipLoader.gDBpDd3b.js";import"./ServerMessage.Re9KOdbP.js";/* empty css                                                                *//* empty css                                                   */const Be={class:"row"},Qe={class:"col-md-12"},ze={class:"row"},Le={class:"col-md-12"},je={class:"card"},He={class:"row"},Je={class:"section-title pb-3 text-muted"},Ke={class:"col-6 col-md-4 col-lg-3"},We={class:"col-6 col-md-4 col-lg-3"},Ge={class:"col-6 col-md-4 col-lg-3"},Xe={class:"col-6 col-md-4 col-lg-3"},Ye={class:"col-4 col-md-3 col-lg-2"},Ze={class:"col-4 col-md-3 col-lg-2"},et={class:"col-4 col-md-3 col-lg-2"},tt={class:"col-6 col-md-4 col-lg-3"},at={class:"col-6 col-md-4 col-lg-3 pt-4"},st={class:"form-field"},ot={class:"form-check form-switch pt-3"},lt={class:"form-check-label",for:"is_stockable"},rt=t("em",null,"*",-1),nt={class:"col-md-12"},dt={class:"card"},ct={class:"row"},ut={class:"section-title pb-2 text-muted"},it={class:"col-md-4 mb-4"},_t={class:"table-responsive"},pt={class:"table table-hover table-bordered mb-3 table-responsive-data"},mt={class:"bg-light"},ht={class:"text-center"},vt={class:"text-center"},gt={class:"text-center"},bt={class:"text-center"},ft={class:"text-center"},yt={class:"text-center"},kt={class:"text-center"},xt=["onUpdate:modelValue"],Vt=["onUpdate:modelValue"],wt={key:0,"data-title":"Search Product",width:"20%"},St={key:1,"data-title":"Search Product",width:"20%"},qt={key:2,"data-title":"Quantity",width:"15%"},Ct={key:3,class:"text-end"},Pt=t("span",null,"1.00",-1),$t={"data-title":"Unit Price",width:"15%"},Ut={"data-title":"Amount",width:"10%",class:"text-end"},At={"data-title":"Tax %",width:"10%"},Ft={"data-title":"Select Tax",width:"10%",class:"text-end"},Et={"data-title":"Amount",width:"15%",class:"text-end"},Nt={"data-title":"Action",width:"5%",class:"text-center"},Ot=["onClick"],Mt=t("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"0.88em",height:"1em",viewBox:"0 0 448 512",class:"iconify iconify--fa6-regular"},[t("path",{fill:"currentColor",d:"m170.5 51.6l-19 28.4h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6h-93.7c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6l36.7 55H424c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8v304c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128h-8c-13.3 0-24-10.7-24-24s10.7-24 24-24h69.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128v304c0 17.7 14.3 32 32 32h224c17.7 0 32-14.3 32-32V128zm80 64v208c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16m80 0v208c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16m80 0v208c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16"})],-1),Tt=[Mt],Rt={class:"row justify-content-between mt-1"},Dt={class:"col-auto"},It={class:"col-auto text-decoration-underline mb-3"},Bt={class:"form-check"},Qt={class:"form-check-label mb-0",for:"Shipping_charge"},zt={class:"table"},Lt={class:"text-end border-0 field-m-0 field-label-hide"},jt={class:"form-field mb-0"},Ht={class:"border-0 field-m-0 field-label-hide"},Jt={class:"form-field mb-0"},Kt={class:"border-0 px-0"},Wt={class:"form-field mb-0"},Gt={class:"d-flex align-items-center pt-0 pb-0"},Xt=["onClick","disabled"],Yt={class:"col-md-3 p-0"},Zt={class:"table"},ea={class:"text-end border-0"},ta={class:"border-0 text-end"},aa=t("th",{class:"border-0 px-0"},null,-1),sa={class:"text-end border-0"},oa={class:"border-0 text-end"},la=t("th",{class:"border-0 px-0"},null,-1),ra={key:0},na={class:"text-end border-0"},da={class:"border-0 text-end"},ca=t("th",{class:"border-0 px-0"},null,-1),ua={class:"tr-total"},ia={class:"text-end border-0"},_a={class:"border-0 text-end text-dark"},pa=t("th",{class:"border-0 px-0"},null,-1),ma={class:"col-md-12"},ha={class:"card"},va={class:"row"},ga={class:"section-title text-muted"},ba={for:"",class:"text-warning h6"},fa={class:"col-12"},ya={class:"text-end"},ka=["disabled"],xa={key:1,class:"pt-0"},Va={key:2,class:"pt-0"},wa={class:"modal hide",id:"addSupplierModal",tabindex:"-1","aria-labelledby":"Add Customer","aria-modal":"true",role:"dialog","data-bs-backdrop":"static","data-bs-keyboard":"false"},Sa={class:"modal-dialog modal-dialog-centered modal-xl"},qa={class:"modal-content"},Ca={class:"modal-header"},Pa={class:"modal-title fs-5"},$a={class:"modal-body"},Ja={__name:"AddPurchaseOrder",setup(Ua){const{t:l}=Ce(),h=g({search_placeholder:l("Search and Add Product"),add_service:l("Add Service"),supplier:l("Supplier"),select_supplier:l("Select Supplier"),expense_account:l("Expense Account"),select_expense_account:l("Select Expense Account"),po_number:l("PO Number"),po_reference_number:l("PO Reference"),po_date:l("PO Date"),po_due_date:l("PO Due Date"),reporting_person:l("Reporting Person"),select_person:l("Select Person"),is_stockable_tooltip:l("If this option is enabled, product stock will be updated when the purchase order is Delivered/Closed."),units:l("Units"),select_tax:l("Select Tax"),charge:l("Charge"),charge_name:l("Charge Name"),value:l("Value")}),le=ee(()=>te(()=>import("./ServerMessage.Re9KOdbP.js"),__vite__mapDeps([0,1,2]))),re=ee(()=>te(()=>import("./ProductSearch.NGuu-LpG.js"),__vite__mapDeps([3,1,2,4,5,6,7,8]))),w=Pe().params.slack,c=g([]),S=$e();X(()=>S.user.currency.symbol);const e=E({...{server_messages:{type:"",messages:""},is_submitting:!1,slack:"",supplier:"",expense_account:"",payment_method_id:"",po_number:"",po_reference_number:"",po_date:"",po_due_date:"",is_stockable:!0,terms:"",other_charges:!1,reporting_person:"",purchase_order_products:[],additional_charges:[]}}),ne=I().shape({supplier:V().required(l("name is required",{name:l("Supplier")})),expense_account:V().required(l("name is required",{name:l("Expense Account")})),payment_method_id:V().required(l("name is required",{name:l("Payment Method")})),po_reference_number:O().typeError(l("must be a number",{name:l("PO Reference")})).nullable().moreThan(0,"PO Reference cannot be negative").transform((a,s)=>s!==""?Number(s):null),po_date:V().required(l("name is required",{name:l("PO Date")})),purchase_order_products:oe(I({product_name:V().required(l("name is required",{name:l("Product Name")})),sale_price:O().typeError(l("must be a number",{name:l("Unit Price")})).required(l("name is required",{name:l("Unit Price")})).positive(l("must be a positive number",{name:l("Unit Price")})),quantity:O().typeError(l("must be a number",{name:l("Quantity")})).required(l("name is required",{name:l("Quantity")})).positive(l("must be a positive number",{name:l("Quantity")}))})).required(),additional_charges:oe(I().shape({charge_name:V().nullable().when("charge_amount",{is:a=>a!=""&&a>0,then:a=>a.required(l("name is required",{name:l("Charge Name")})),otherwise:a=>a.nullable()}),charge_amount:O().typeError(l("must be a number",{name:l("Amount")})).nullable().when("charge_name",{is:a=>a!="",then:a=>a.required(l("name is required",{name:l("Amount")})),otherwise:a=>a.nullable()})},["charge_name","charge_amount"])).required()}),de=[{charge_name:"Shipping Charges",charge_amount:0},{charge_name:"Packing Charges",charge_amount:0}];Ue(()=>{ie(),e.additional_charges=de,w!=null&&_e(),ce()});const B=g([]);async function ce(){let s=(await axios.get("api/payment_methods/all")).data.data;_.forEach(s,n=>{let r={key:n.id,value:n.name};B.value.push(r)})}function ue(){setTimeout(()=>k(),200)}const P=g([]),Q=g([]),z=g([]),L=g([]);async function ie(){let a=await axios.get("api/purchase_order/add");e.po_number=a.data.data.po_number,e.po_reference_number=a.data.data.po_reference_number;let s=a.data.data.suppliers;_.forEach(s,r=>{let u={slack:r.slack,name:r.name!=""?r.phone!=""&&r.phone!="null"&&r.phone!=null?r.name+" - "+r.phone:r.name:r.phone};P.value.push(u)});let n=a.data.data.expense_accounts;_.forEach(n,r=>{let u={key:r.id,value:r.name,chk_default:r.is_default};r.is_default==1&&(e.expense_account=r.id),Q.value.push(u)}),_.forEach(S.user.country.taxes,r=>{let u={key:r.slack,value:r.name,percentage:r.total_percentage};z.value.push(u)}),_.forEach(S.user.login_branch.branch_users,r=>{if(r.user.slack!=S.user.slack){let u={key:r.user.slack,value:r.user.name};L.value.push(u)}})}const j=g(!1);async function _e(){await axios.get("/api/purchase_order",{params:{slack:w}}).then(a=>{if(j.value=!0,c.value=a.data.data,e.slack=c.value.slack,e.supplier=c.value.supplier.slack,e.expense_account=c.value.account_id,e.payment_method_id=c.value.payment_method_id,e.po_number=c.value.po_number,e.po_reference_number=c.value.reference_no,e.po_date=c.value.po_date,e.po_due_date=c.value.due_date,e.is_stockable=c.value.is_update_in_stock==1,e.terms=c.value.terms,c.value.purchase_order_products.length>0){e.purchase_order_products=[];for(var s=0;s<c.value.purchase_order_products.length;s++){let r=c.value.purchase_order_products[s].type,u=E({type:c.value.purchase_order_products[s].type,product_slack:r==1?c.value.purchase_order_products[s].product.slack:c.value.purchase_order_products[s].slack,product_name:c.value.purchase_order_products[s].product_name,quantity:c.value.purchase_order_products[s].product_quantity,sale_price:c.value.purchase_order_products[s].product_price_without_tax,amount:c.value.purchase_order_products[s].subtotal_after_product_quantity,tax:c.value.purchase_order_products[s].tax?c.value.purchase_order_products[s].tax.slack:"",tax_amount:c.value.purchase_order_products[s].product_tax,total_amount:c.value.purchase_order_products[s].product_amount});e.purchase_order_products.push(u)}}if(a.data.data.purchase_order_charges.length>0){e.additional_charges=[];for(var s=0;s<a.data.data.purchase_order_charges.length;s++){var n={charge_name:a.data.data.purchase_order_charges[s].title,charge_amount:a.data.data.purchase_order_charges[s].charges};e.additional_charges.push(n)}e.other_charges=!0,$("#shipping_table_wrap").addClass("show")}e.reporting_person=c.value.reporting_user?c.value.reporting_user.slack:0,k()}).catch(a=>{e.server_messages.type="error",e.server_messages.messages=a,console.log(a)})}const U=g([]);function pe(a){U.value.push(a.slack);let s=E({type:1,product_slack:a.slack,product_name:a.name,quantity:1,sale_price:a.purchase_price,amount:a.purchase_price,tax:"",tax_amount:0,total_amount:a.purchase_price});e.purchase_order_products.push(s),k()}function me(a){e.purchase_order_products.splice(e.purchase_order_products.indexOf(a),1),U.value.splice(U.value.indexOf(a.product_slack),1),k()}function he(){let a=E({type:2,product_slack:"",product_name:"",quantity:1,sale_price:"",amount:"",tax:"",tax_amount:0,total_amount:0});e.purchase_order_products.push(a),k()}function ve(){e.other_charges=e.other_charges!=!0,k()}function ge(){let a={charge_name:"",charge_amount:0};e.additional_charges.push(a)}function be(a){e.additional_charges.splice(a,1),k()}const fe=g(0),ye=g(0),H=g(0),J=g(0),K=g(0),W=g(0);function ke(a,s){var n=parseFloat(s)/100*parseFloat(a);return n.toFixed(2)}function xe(a){var s=S.user.country.taxes.filter(function(n){if(n.slack==a)return n});return s[0].total_percentage}function k(){var a=0,s=0,n=0,r=0,u=0,A=0;for(var f in e.purchase_order_products){var x=0,o=0,p=e.purchase_order_products[f].quantity,i=e.purchase_order_products[f].sale_price;a+=parseFloat(i);var M=e.purchase_order_products[f].tax;if(!isNaN(p)&&p!=null&&p!=""&&!isNaN(i)&&i!=null&&i!=""){if(s+=parseFloat(p),o=parseFloat(p)*parseFloat(i),n+=o,o=o.toFixed(2),e.purchase_order_products[f].amount=o,M!=null&&M!=""){var G=xe(M);G>=0&&(x=ke(o,G),x=parseFloat(x).toFixed(2),e.purchase_order_products[f].tax_amount=x)}o=parseFloat(o)+parseFloat(x),o=o.toFixed(2),e.purchase_order_products[f].total_amount=o,r=parseFloat(r)+parseFloat(x)}else{e.purchase_order_products[f].amount=0,e.purchase_order_products[f].total_amount=0;continue}}if(e.other_charges==!0)for(var f in e.additional_charges){var F=e.additional_charges[f].charge_amount;!isNaN(F)&&F!=null&&F>0&&(u=parseFloat(u)+parseFloat(F))}A=parseFloat(n)+parseFloat(r)+parseFloat(u),fe.value=a.toFixed(2),ye.value=s,H.value=n.toFixed(2),J.value=r.toFixed(2),K.value=u.toFixed(2),W.value=A.toFixed(2)}async function Ve(){e.is_submitting=!0;var a=new FormData;a.append("supplier",e.supplier),a.append("account_id",e.expense_account),a.append("payment_method_id",e.payment_method_id),a.append("po_number",e.po_number),a.append("po_reference_number",e.po_reference_number),a.append("po_date",e.po_date),a.append("po_due_date",e.po_due_date),a.append("is_stockable",e.is_stockable),a.append("reporting_person",e.reporting_person!=null?e.reporting_person:0),a.append("products",JSON.stringify(e.purchase_order_products)),a.append("is_additional_charges",e.other_charges),a.append("additional_charges",JSON.stringify(e.additional_charges)),a.append("terms",e.terms),a.append("po_slack",e.slack);var s=e.slack!=""&&e.slack!=null?"/api/purchase_order/update":"/api/purchase_order/save";await axios.post(s,a).then(n=>{if(n.data.status_code==200)toast.success(n.data.msg),e.is_submitting=!1,router.push("/purchase_orders");else{try{e.server_messages.type="error",e.server_messages.messages=JSON.parse(n.data.msg)}catch{e.server_messages.type="error",e.server_messages.messages=n.data.msg}e.is_submitting=!1}}).catch(n=>{e.server_messages.type="error",e.server_messages.messages=n,e.is_submitting=!1})}const we=X(()=>e.terms==""||e.terms==null?"0 / 500 Characters":e.terms.length+" / 500 Characters");async function Se(){document.getElementById("close_btn").click(),qe()}async function qe(){await axios.get("/api/suppliers/all").then(a=>{let s=a.data.data;P.value=[],_.forEach(s,n=>{let r={slack:n.slack,name:n.name!=""?n.phone!=""&&n.phone!="null"&&n.phone!=null?n.name+" - "+n.phone:n.name:n.phone};P.value.push(r)})}).catch(a=>{e.server_messages.type="error",e.server_messages.messages=a})}return(a,s)=>{const n=Re,r=Te,u=Me,A=Oe,f=Ne,x=Ee;return v(),b(R,null,[y(w)==""||y(w)==null||y(w)!=""&&j.value?(v(),N(y(De),{key:0,"validation-schema":y(ne),onSubmit:Ve,enctype:"multipart/form-data","initial-values":e},{default:Ae(()=>[t("div",Be,[e.server_messages.messages!=""?(v(),N(y(le),{key:0,class:"py-3",server_messages:e.server_messages},null,8,["server_messages"])):q("",!0),t("div",Qe,[t("div",ze,[t("div",Le,[t("div",je,[t("div",He,[t("h5",Je,d(a.$t("Basic Details"))+":",1),t("div",Ke,[m(n,{name:"supplier",label:h.value.supplier,placeholder:h.value.select_supplier,text:"name",value:"slack",options:P.value,modelValue:e.supplier,"onUpdate:modelValue":s[0]||(s[0]=o=>e.supplier=o),mode:"single",required:"",addModalShow:!0,addModalId:"#addSupplierModal"},null,8,["label","placeholder","options","modelValue"])]),t("div",We,[m(r,{name:"expense_account",label:h.value.expense_account,modelValue:e.expense_account,"onUpdate:modelValue":s[1]||(s[1]=o=>e.expense_account=o),placeholder:h.value.select_expense_account,options:Q.value,required:""},null,8,["label","modelValue","placeholder","options"])]),t("div",Ge,[m(r,{name:"payment_method_id",label:"Payment Method",modelValue:e.payment_method_id,"onUpdate:modelValue":s[2]||(s[2]=o=>e.payment_method_id=o),options:B.value,placeholder:"Select Payment Method",required:""},null,8,["modelValue","options"])]),t("div",Xe,[m(u,{type:"text",name:"po_number",modelValue:e.po_number,"onUpdate:modelValue":s[3]||(s[3]=o=>e.po_number=o),label:h.value.po_number,required:!0,disabled:!0},null,8,["modelValue","label"])]),t("div",Ye,[m(u,{type:"text",name:"po_reference_number",modelValue:e.po_reference_number,"onUpdate:modelValue":s[4]||(s[4]=o=>e.po_reference_number=o),label:h.value.po_reference_number},null,8,["modelValue","label"])]),t("div",Ze,[m(u,{type:"date",name:"po_date",modelValue:e.po_date,"onUpdate:modelValue":s[5]||(s[5]=o=>e.po_date=o),label:h.value.po_date,required:!0},null,8,["modelValue","label"])]),t("div",et,[m(u,{type:"date",name:"po_due_date",modelValue:e.po_due_date,"onUpdate:modelValue":s[6]||(s[6]=o=>e.po_due_date=o),label:h.value.po_due_date},null,8,["modelValue","label"])]),t("div",tt,[m(r,{name:"reporting_person",label:h.value.reporting_person,modelValue:e.reporting_person,"onUpdate:modelValue":s[7]||(s[7]=o=>e.reporting_person=o),placeholder:h.value.select_person,options:L.value},null,8,["label","modelValue","placeholder","options"])]),t("div",at,[t("div",st,[t("div",ot,[C(t("input",{class:"form-check-input me-2",type:"checkbox",role:"switch",id:"is_stockable",checked:"","onUpdate:modelValue":s[8]||(s[8]=o=>e.is_stockable=o)},null,512),[[Y,e.is_stockable]]),t("label",lt,[T(d(a.$t("Is Stockable"))+" ",1),rt]),m(A,{message:h.value.is_stockable_tooltip},null,8,["message"])])])])])])]),t("div",nt,[t("div",dt,[t("div",ct,[t("h5",ut,d(a.$t("Products"))+":",1),t("div",it,[m(y(re),{onSelectProduct:pe,placeholder:h.value.search_placeholder,selected_products:U.value,button_placeholder:h.value.add_service},null,8,["placeholder","selected_products","button_placeholder"])]),t("div",_t,[t("table",pt,[t("thead",mt,[t("tr",null,[t("th",null,d(a.$t("Product/Service")),1),t("th",ht,d(a.$t("Quantity")),1),t("th",vt,d(a.$t("Unit Price")),1),t("th",gt,d(a.$t("Amount")),1),t("th",bt,d(a.$t("Tax")),1),t("th",ft,d(a.$t("Tax Amount")),1),t("th",yt,d(a.$t("Total")),1),t("th",kt,d(a.$t("Remove")),1)])]),t("tbody",null,[e.purchase_order_products.length>0?(v(!0),b(R,{key:0},Z(e.purchase_order_products,(o,p)=>(v(),b("tr",{key:p},[C(t("input",{type:"hidden",name:"product_name","onUpdate:modelValue":i=>o.product_name=i},null,8,xt),[[D,o.product_name]]),C(t("input",{type:"hidden",name:"product.sku","onUpdate:modelValue":i=>o.product_slack=i},null,8,Vt),[[D,o.product_slack]]),o.type==1?(v(),b("td",wt,[T(d(o.product_name)+" ",1),m(y(ae),{type:"hidden",name:"purchase_order_products["+p+"].product_name",value:o.product_name},null,8,["name","value"]),m(y(se),{name:"purchase_order_products["+p+"].product_name",as:"div",class:"error"},null,8,["name"])])):(v(),b("td",St,[m(u,{type:"text",name:"purchase_order_products["+p+"].product_name",label:"",modelValue:o.product_name,"onUpdate:modelValue":i=>o.product_name=i},null,8,["name","modelValue","onUpdate:modelValue"])])),o.type==1?(v(),b("td",qt,[m(u,{type:"number",name:"purchase_order_products["+p+"].quantity",input_group_text:h.value.units,label:"",modelValue:o.quantity,"onUpdate:modelValue":i=>o.quantity=i,min:"0.01",step:"0.01",onInput:k},null,8,["name","input_group_text","modelValue","onUpdate:modelValue"])])):(v(),b("td",Ct,[Pt,m(y(ae),{type:"hidden",name:"purchase_order_products["+p+"].quantity",value:o.quantity},null,8,["name","value"]),m(y(se),{name:"purchase_order_products["+p+"].quantity",as:"div",class:"error"},null,8,["name"])])),t("td",$t,[m(u,{type:"number",name:"purchase_order_products["+p+"].sale_price",input_group_text:"SAR",modelValue:o.sale_price,"onUpdate:modelValue":i=>o.sale_price=i,min:"0.01",step:"0.01",onInput:k,label:""},null,8,["name","modelValue","onUpdate:modelValue"])]),t("td",Ut,d(o.amount),1),t("td",At,[m(r,{name:`tax_${p}`,placeholder:h.value.select_tax,options:z.value,class:"mb-0",modelValue:o.tax,"onUpdate:modelValue":i=>o.tax=i,onChange:k,id:p,label:"",islabel:!1},null,8,["name","placeholder","options","modelValue","onUpdate:modelValue","id"])]),t("td",Ft,d(o.tax_amount),1),t("td",Et,d(o.total_amount),1),t("td",Nt,[t("a",{role:"button",class:"btn btn-icon btn-xs btn-light-danger",onClick:i=>me(o)},Tt,8,Ot)])]))),128)):q("",!0)])])]),t("div",Rt,[t("div",Dt,[t("div",It,[t("a",{href:"javascript:;",onClick:he},"+ "+d(a.$t("Add Service")),1)]),t("div",Bt,[C(t("input",{class:"form-check-input",type:"checkbox",value:"",id:"Shipping_charge","data-bs-toggle":"collapse","data-bs-target":"#shipping_table_wrap","onUpdate:modelValue":s[9]||(s[9]=o=>e.other_charges=o),onClick:ve},null,512),[[Y,e.other_charges]]),t("label",Qt,d(a.$t("Other Charges")),1)]),t("div",{class:Fe(e.other_charges?"collapse show":"collapse"),id:"shipping_table_wrap"},[t("table",zt,[(v(!0),b(R,null,Z(e.additional_charges,(o,p)=>(v(),b("tr",{key:p},[t("th",Lt,[t("div",jt,[m(u,{type:"text",name:"additional_charges["+p+"].charge_name",modelValue:o.charge_name,"onUpdate:modelValue":i=>o.charge_name=i,placeholder:h.value.charge_name},null,8,["name","modelValue","onUpdate:modelValue","placeholder"])])]),t("th",Ht,[t("div",Jt,[m(u,{type:"number",name:"additional_charges["+p+"].charge_amount",modelValue:o.charge_amount,"onUpdate:modelValue":i=>o.charge_amount=i,placeholder:h.value.charge,onInput:ue},null,8,["name","modelValue","onUpdate:modelValue","placeholder"])])]),t("th",Kt,[t("div",Wt,[t("div",Gt,[t("button",{role:"button",type:"button",class:"btn btn-sm btn-icon btn-light-danger",onClick:i=>be(p),disabled:!(e.additional_charges.length>1)},"x",8,Xt),p==e.additional_charges.length-1?(v(),b("button",{key:0,role:"button",type:"button",class:"btn btn-sm btn-icon btn-light-primary ms-2",onClick:s[10]||(s[10]=i=>ge())},"+")):q("",!0)])])])]))),128))])],2)]),t("div",Yt,[t("table",Zt,[t("tr",null,[t("th",ea,[t("h6",null,d(a.$t("Sub Total")),1)]),t("th",ta,[t("h6",null,d(H.value)+" SAR",1)]),aa]),t("tr",null,[t("th",sa,[t("h6",null,d(a.$t("Taxes")),1)]),t("th",oa,[t("h6",null,d(J.value)+" SAR",1)]),la]),e.other_charges==!0?(v(),b("tr",ra,[t("th",na,[t("h6",null,d(a.$t("Other Charges")),1)]),t("th",da,[t("h6",null,d(K.value)+" SAR",1)]),ca])):q("",!0),t("tr",ua,[t("th",ia,[t("h5",null,d(a.$t("Total")),1)]),t("th",_a,[t("h5",null,d(W.value)+" SAR",1)]),pa])])])])])])]),t("div",ma,[t("div",ha,[t("div",va,[t("h5",ga,[T(d(a.$t("Note/Terms and Conditions"))+": ",1),t("label",ba,d(y(we)),1)]),t("div",fa,[C(t("textarea",{maxlength:"500",class:"form-control form-control-solid text-area",name:"terms","onUpdate:modelValue":s[11]||(s[11]=o=>e.terms=o),rows:"1"},null,512),[[D,e.terms]])])])])])])])]),t("div",ya,[t("button",{type:"submit",class:"btn btn-primary",disabled:e.is_submitting},[e.is_submitting?(v(),N(Ie,{key:0,color:"white",size:"20px",class:"pt-2 pe-2"})):q("",!0),e.is_submitting?(v(),b("span",xa,d(a.$t("Saving...")),1)):(v(),b("span",Va,d(a.$t("Save")),1))],8,ka)])]),_:1},8,["validation-schema","initial-values"])):(v(),N(f,{key:1})),t("div",wa,[t("div",Sa,[t("div",qa,[t("div",Ca,[t("h5",Pa,d(a.$t("Add Supplier")),1),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:s[12]||(s[12]=(...o)=>a.closeModal&&a.closeModal(...o)),id:"close_btn"})]),t("div",$a,[m(x,{onCloseAddSupplierModal:Se,popupWindow:!0})])])])])],64)}}};export{Ja as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ServerMessage.Re9KOdbP.js","assets/index.li3fCRRM.js","assets/index.KTHCd6a8.css","assets/ProductSearch.NGuu-LpG.js","assets/vee-validate.esm.reM-LHjC.js","assets/index.esm.e6McCFlz.js","assets/BeatLoader.GtqPXmja.js","assets/BeatLoader.5j6ku4bW.css","assets/ClipLoader.7xz7y6gZ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
