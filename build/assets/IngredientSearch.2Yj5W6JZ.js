import{u as k,e as x,v as B,r as S,f as q,g as t,p as w,w as C,y as I,j as d,i as s,N as b,K as F,l as m,h as i,F as N,t as V,x as j,m as z}from"./index.sP6fhsqN.js";import{F as D}from"./vee-validate.esm.2kXgdFia.js";import"./index.esm.DHYHwGJ4.js";import{B as L}from"./BeatLoader.GLQikMEo.js";/* empty css                                                   *//* empty css                                                   */const P={class:"row"},A={class:"field-icon mb-4"},E={class:"form-field position-relative mb-0"},K=["placeholder"],M={class:"icon"},T={key:0},U={key:1,class:""},$={key:0,class:"recent-search"},G=["onClick"],Z={__name:"IngredientSearch",props:{selected_ingredients:{type:Array,default:[]},placeholder:{type:String,default:"Search Ingredients"},is_button:{type:Boolean,default:!1}},emits:["selectProduct"],setup(l,{emit:u}){k();const e=x({...{server_messages:{type:"",messages:""},is_listing:!1}});B(()=>e.search_query,_.debounce(()=>{h()},500));const n=l,p=n.placeholder,a=S([]);async function h(){e.is_listing=!0,e.search_query!=""?await axios.get("/api/ingredients/all",{params:{search_query:e.search_query,except_products:n.selected_ingredients,limit:5}}).then(o=>{a.value=o.data.data,e.is_listing=!1}).catch(o=>{e.server_messages.type="error",e.server_messages.messages=o,e.is_listing=!1,console.log(o)}):(a.value=[],e.is_listing=!1)}function f(){a.value=[]}const g=u;return(o,c)=>{const v=q("Icon");return t(),w(d(D),null,{default:C(()=>[s("div",P,[s("div",{class:I(l.is_button?"col-md-8":"col-md-12")},[s("div",A,[s("div",E,[F(s("input",{type:"search",class:"form-control form-control-solid",placeholder:d(p),"onUpdate:modelValue":c[0]||(c[0]=r=>e.search_query=r)},null,8,K),[[b,e.search_query]]),s("div",M,[m(v,{icon:"fa6-solid:magnifying-glass"})]),e.is_listing?(t(),i("div",T,[m(L,{color:"gray",size:"15px",class:"pt-2 pe-2"})])):(t(),i("div",U,[a.value.length>0?(t(),i("ul",$,[(t(!0),i(N,null,j(a.value,(r,y)=>(t(),i("li",{key:y},[s("a",{href:"javascript:;",onClick:J=>(g("selectProduct",r),f())},[s("h2",null,V(r.name),1)],8,G)]))),128))])):z("",!0)]))])])],2)])]),_:1})}}};export{Z as default};
