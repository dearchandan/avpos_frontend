import{_ as q,a as V,b as B}from"./cashier.c_R3VnRW.js";import{b as M,bT as T,d as b,P as j,f as z,g as a,p as N,i as t,j as _,h as o,t as r,F as y,x as k,y as O,m as c,l as A,af as F}from"./index.sP6fhsqN.js";/* empty css                                                   */import"./index.G34VVlwZ.js";import"./VMultiSelect.pXBL2AV1.js";import"./vee-validate.esm.2kXgdFia.js";const I={class:"modal fade variant-modal",id:"variantModal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false"},L={class:"modal-dialog modal-xl modal-dialog-centered"},R={key:0,class:"modal-content"},D={class:"modal-header"},E={class:"modal-title"},P={class:"modal-body"},G={class:"product-box-wrap","data-simplebar":""},H={class:"row g-3 g-md-2"},J={class:"col-4"},K=["onClick"],Q={class:"row"},U={class:"col-auto"},W={class:"image",style:{padding:"0"}},X={href:"#"},Y=["src"],Z={key:0,class:"veg-icon"},tt=t("img",{src:q,alt:""},null,-1),st=[tt],at={key:1,class:"nonveg-icon"},ot=t("img",{src:V,alt:""},null,-1),et=[ot],it={key:2,class:"box-favorite-icon"},nt=t("img",{src:B,alt:""},null,-1),rt=[nt],ct={class:"col"},dt={class:"text"},lt={key:0,class:"badge"},_t={class:"bg-warning"},ut={key:1,class:"badge"},vt={class:"bg-danger"},ht={class:"pt-3 pb-1 mb-0 fw-bold text-start"},mt={key:2,class:"mb-2 text-muted text-start"},pt={key:3},bt={class:"row align-items-center justify-content-between"},yt={class:"col-8 text-start"},kt={class:"fw-bold",style:{"font-size":"16px"}},ft={key:0,class:"col-auto"},gt={class:"icon"},xt={class:"row"},Ct={class:"mt-2 text-end"},zt={__name:"SelectVariant",props:["product"],emits:["closeVariantModal"],setup(f,{emit:g}){const x=M(),u=T();b(()=>x.user.currency.symbol);const l=f,v=j(l,"product"),h=b(()=>{if(l.product.product_variants){let i=l.product.product_variants.reduce((e,d)=>{const n=d.variant.name;return e[n]||(e[n]=[]),e[n].push(d),e},[]);return Object.entries(i)}else return[]});function m(i){let e=u.all_products.find(d=>d.id==i.id);u.addToCart(e),$("#variantModal").modal("hide")}function C(){m(v.value)}const w=g;function S(){w("closeVariantModal")}return(i,e)=>{const d=z("Icon");return a(),N(F,{to:"body"},[t("div",I,[t("div",L,[_(v)?(a(),o("div",R,[t("div",D,[t("div",E,r(i.$t("Variants")),1),t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=n=>S()),"aria-label":"Close"})]),t("div",P,[t("div",G,[_(h).length?(a(!0),o(y,{key:0},k(_(h),(n,wt)=>(a(),o("div",H,[t("h5",null,r(n[0]),1),n[1].length?(a(!0),o(y,{key:0},k(n[1],(s,St)=>{var p;return a(),o("div",J,[t("div",{onClick:$t=>m(s.variant_product),class:O(["product-box d-block",{"low-stock":s.variant_product.is_stockable&&s.variant_product.quantity>0&&s.variant_product.quantity<=s.variant_product.alert_quantity,"out-of-stock":s.variant_product.is_stockable&&s.variant_product.quantity==0}]),style:{cursor:"pointer"}},[t("div",Q,[t("div",U,[t("div",W,[t("a",X,[t("img",{src:s.variant_product.image_path,alt:""},null,8,Y)]),s.variant_product.dietary==1?(a(),o("div",Z,st)):c("",!0),s.variant_product.dietary==2?(a(),o("div",at,et)):c("",!0),s.variant_product.is_favorite?(a(),o("div",it,rt)):c("",!0)])]),t("div",ct,[t("div",dt,[s.variant_product.is_stockable&&s.variant_product.quantity>0&&s.variant_product.quantity<=s.variant_product.alert_quantity?(a(),o("div",lt,[t("span",_t,r(i.$t("Low Stock")),1)])):c("",!0),s.variant_product.is_stockable&&s.variant_product.quantity==0?(a(),o("div",ut,[t("span",vt,r(i.$t("Out Of Stock")),1)])):c("",!0),t("h2",ht,r(s.variant_product.name),1),s.variant_product.calories?(a(),o("h6",mt,r(s.variant_product.calories)+" "+r(i.$t("Calories")),1)):(a(),o("br",pt)),t("div",bt,[t("div",yt,[t("h5",kt,r((p=s.variant_product_inventory)==null?void 0:p.sale_price)+" SAR ",1)]),s.variant_product.has_variants?(a(),o("div",ft,[t("div",gt,[A(d,{icon:"tabler:list-details",class:"text-muted",style:{"font-size":"20px"}})])])):c("",!0)])])])])],10,K)])}),256)):c("",!0)]))),256)):c("",!0),t("div",xt,[t("div",Ct,[t("button",{type:"submit",class:"btn btn-primary",onClick:e[1]||(e[1]=n=>C())},r(i.$t("Skip")),1)])])])])])):c("",!0)])])])}}};export{zt as default};
