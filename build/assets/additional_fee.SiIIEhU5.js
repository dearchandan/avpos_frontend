import{u as E,b as j,d as O,r as c,e as J,o as K,v as R,g as n,p as C,w as v,f as F,i as e,l as r,k as $,t as a,K as U,N as Y,j as f,h as d,F as z,x as G,m as y,O as H,q as Q,_ as W}from"./index.li3fCRRM.js";import{D as X}from"./DefaultLayout.saUWsTkY.js";import{_ as Z}from"./ListingSkeleton.6NzqF9S5.js";import{_ as ee}from"./PaginateLimit.SmYeFgfo.js";import"./vue-datepicker.a6BsTEHj.js";/* empty css                                                   */import"./ClipLoader.gDBpDd3b.js";/* empty css                                                   */const te={class:"header-nav-wrap"},se={class:"row align-items-center"},ae={class:"col-auto"},oe={class:"header-back-link"},ne={class:"col-auto"},ie={class:"fw-bold"},le={class:"content"},de={class:"page-heading"},ce={class:"row align-items-center justify-content-end"},re={class:"col-auto"},_e={class:"form-field page-heading-search-field mb-0"},ue={class:"field-icon"},he=["placeholder"],me={class:"icon"},pe={class:"col-auto"},ge={key:1,class:"table-responsive"},ve={class:"table table-list-data table-hover"},fe={class:"bg-light"},ye={scope:"col"},be={scope:"col"},we={scope:"col",width:"10%"},ke={scope:"col",width:"10%",class:"text-end"},Ae={class:"fw-bold highlighted-list-item"},Ce={key:0},Fe={key:1},$e={key:0},De={key:1},Se={key:0,class:"badge badge-success"},Ne={key:1,class:"badge badge-danger"},Be={class:"text-end"},qe={key:0,class:"dropdown"},Me={class:"btn btn-icon btn-sm btn-light dropdown-toggle arrow-none",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Ve={class:"dropdown-menu"},xe=["onClick"],Ie=["onClick"],Le={key:1},Pe={class:"text-center py-3",colspan:"7"},Te={class:"data-footer"},Ee={class:"row align-items-center justify-content-between"},je={class:"col-auto"},Oe={class:"col-auto"},We={__name:"additional_fee",setup(Je){const{t:h}=E(),D=Q(()=>W(()=>import("./AddAdditionalFee.JhsUNIq_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),S=j(),N=O(()=>S.user.currency.symbol),m=c(!1),b=c([]);function w(t=""){b.value=t,m.value=!0}function B(){m.value=!1,u()}c("");const q={server_messages:{type:"",messages:""},is_listing:!1,search_query:c("")},M=h("Search by name, type.."),s=J({...q});K(()=>{u()}),R(()=>s.search_query,_.debounce(()=>{u()},500));const p=c([]),g=c([]);async function u(t=1){s.is_listing=!0,await axios.get("/api/additional_fees",{params:{page:t,paginate_limit:k.value,search_query:s.search_query}}).then(l=>{p.value=l.data.data,g.value=l.data.pagination,s.is_listing=!1}).catch(l=>{s.server_messages.type="error",s.server_messages.messages=l,s.is_listing=!1,console.log(l)})}const k=c();async function V(t){k.value=t,await u()}async function x(t){var l=!1;await Swal.fire({title:h("Do you want to delete this AdditionalFee?"),showCancelButton:!0,confirmButtonText:h("Yes, Delete"),confirmButtonColor:"#d33",cancelButtonText:h("Cancel")}).then(o=>{o.isConfirmed&&(l=!0)}),l&&await axios.post("/api/additional_fee/delete",{slack:t}).then(o=>{if(o.data.status_code==200)Swal.fire(o.data.msg),u();else try{s.server_messages.type="error",s.server_messages.messages=JSON.parse(o.data.msg)}catch{s.server_messages.type="error",s.server_messages.messages=o.data.msg}}).catch(o=>{s.server_messages.type="error",s.server_messages.messages=o,console.log(o)})}return(t,l)=>{const o=F("Icon"),A=F("router-link"),I=Z,L=X;return n(),C(L,null,{subheader:v(()=>[e("div",te,[e("div",se,[e("div",ae,[e("div",oe,[r(A,{class:"text-primary",to:"/settings"},{default:v(()=>[r(o,{icon:"fa6-solid:chevron-left"}),$(" "+a(t.$t("Settings")),1)]),_:1})])]),e("div",ne,[e("h5",ie,a(t.$t("Additional Fee")),1)])])])]),default:v(()=>[e("div",le,[e("div",de,[e("div",ce,[e("div",re,[e("div",_e,[e("div",ue,[U(e("input",{type:"search",class:"form-control form-control-sm form-control-solid",placeholder:f(M),"onUpdate:modelValue":l[0]||(l[0]=i=>s.search_query=i)},null,8,he),[[Y,s.search_query]]),e("div",me,[r(o,{icon:"fa6-solid:magnifying-glass"})])])])]),e("div",pe,[e("a",{href:"#",class:"btn btn-sm btn-light-primary2","data-bs-toggle":"modal",onClick:w,"data-bs-target":"#addAdditionalFeeModal"}," + "+a(t.$t("New Additional Fee")),1)])])]),s.is_listing?(n(),C(I,{key:0})):(n(),d("div",ge,[e("table",ve,[e("thead",fe,[e("tr",null,[e("th",ye,a(t.$t("Name")),1),e("th",be,a(t.$t("Value")),1),e("th",we,a(t.$t("Active")),1),e("th",ke,a(t.$t("Action")),1)])]),e("tbody",null,[p.value!=""?(n(!0),d(z,{key:0},G(p.value,(i,P)=>(n(),d("tr",{key:P},[e("td",null,[e("div",null,[e("span",Ae,a(i.name),1),i.name_ar!=""?(n(),d("br",Ce)):y("",!0),i.name_ar!=""?(n(),d("span",Fe,a(i.name_ar),1)):y("",!0)])]),e("td",null,[$(a(i.value)+" ",1),i.type==1?(n(),d("span",$e,"%")):(n(),d("span",De,a(N.value),1))]),e("td",null,[i.status==1?(n(),d("span",Se,"Active")):(n(),d("span",Ne,"Inactive"))]),e("td",Be,[i.merchant_id>0?(n(),d("div",qe,[e("button",Me,[r(o,{icon:"fa6-solid:ellipsis-vertical"})]),e("ul",Ve,[e("li",null,[e("a",{class:"dropdown-item",href:"#","data-bs-toggle":"modal",onClick:T=>w(i),"data-bs-target":"#addAdditionalFeeModal"},a(t.$t("Edit")),9,xe)]),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:T=>x(i.slack)},a(t.$t("Delete")),9,Ie)])])])):y("",!0)])]))),128)):(n(),d("tr",Le,[e("td",Pe,a(t.$t("No Data Found")),1)]))])])])),e("div",Te,[e("div",Ee,[e("div",je,[r(ee,{onPaginate_limit_update:V,pagination:g.value},null,8,["pagination"])]),e("div",Oe,[r(f(H),{data:g.value,limit:5,onPaginationChangePage:u},null,8,["data"])])])])]),r(f(D),{show_add_additional_fee_modal:m.value,onCloseAddAdditionalFeeModal:B,edit_data:b.value},null,8,["show_add_additional_fee_modal","edit_data"])]),_:1})}}};export{We as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddAdditionalFee.JhsUNIq_.js","assets/index.li3fCRRM.js","assets/index.KTHCd6a8.css","assets/vee-validate.esm.reM-LHjC.js","assets/index.esm.e6McCFlz.js","assets/VTextInput.pcaNaUkX.js","assets/VTooltip.pHzwBjkF.js","assets/ClipLoader.gDBpDd3b.js","assets/ClipLoader.7xz7y6gZ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
