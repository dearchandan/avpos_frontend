import P from"./ServerMessage.I5ol-gtz.js";import{u as w,e as V,b as $,P as A,v as N,g as m,h as n,i as s,t as i,k as r,w as S,Q as B,K as C,l as u,p as x,j as y}from"./index.7OFNPsHl.js";import{F as D}from"./vee-validate.esm.N3uz7Rsk.js";import{c as O,a as U,e as j}from"./index.esm.cd1bITNA.js";import{_ as v}from"./VTextInput.VtSvZjuc.js";import{C as q}from"./ClipLoader.1qNfpKDH.js";import"./VTooltip.n3SV8A0p.js";/* empty css                                                   */const E={class:"modal modal-lg hide",id:"addPaymentModeModal",tabindex:"-1","aria-labelledby":"Add Payment Mode","aria-modal":"true",role:"dialog","data-bs-backdrop":"static","data-bs-keyboard":"false"},F={class:"modal-dialog modal-dialog-centered"},I={class:"modal-content"},J={class:"modal-header"},z={key:0,class:"modal-title"},K={key:1,class:"modal-title"},L={class:"modal-body"},Q={class:"row"},R={class:"col-6"},G={class:"col-6"},H={class:"col-md-6"},T={class:"form-field"},W={class:"form-check form-switch"},X={class:"form-check-label",for:"status"},Y={key:0,class:"py-3"},Z={class:"mt-2 text-end"},ee=["disabled"],ae={key:1,class:"pt-0"},se={key:2,class:"pt-0"},ce={__name:"AddPaymentMode",props:{show_add_payment_mode_modal:Boolean,edit_data:{type:[Array,Object]}},emits:["closeAddPaymentModeModal"],setup(g,{emit:f}){const{t:l}=w(),c={server_messages:{type:"",messages:""},is_saving:!1,is_listing:!1,slack:"",payment_mode_name:"",payment_mode_name_ar:"",status:!0},e=V({...c});$();const h=O({payment_mode_name:U().required(l("name is required",{name:l("Payment Mode Name")})).min(3,l("name must be at least n characters",{name:l("Payment Mode Name"),number:3})),status:j().label("status")}),b=f,_=g;A(_,"edit_data");function p(){document.getElementById("frmPaymentMode").reset(),M(),document.getElementById("close_btn").click(),b("closeAddPaymentModeModal")}N(()=>_.edit_data,a=>{a&&(e.slack=a.slack,e.payment_mode_name=a.name,e.payment_mode_name_ar=a.name_ar,e.status=a.status==1)});async function k(){e.is_saving=!0;var a=new FormData;a.append("payment_mode_name",e.payment_mode_name),a.append("payment_mode_name_ar",JSON.stringify(e.payment_mode_name_ar)),a.append("status",e.status),a.append("slack",e.slack);var o=e.slack!=""&&e.slack!=null?"/api/payment_mode/update":"/api/payment_mode/save";await axios.post(o,a).then(t=>{if(t.data.status_code==200)toast.success(t.data.msg),e.server_messages.type="",e.server_messages.messages="",e.is_saving=!1,p();else{try{e.server_messages.type="error",e.server_messages.messages=JSON.parse(t.data.msg)}catch{e.server_messages.type="error",e.server_messages.messages=t.data.msg}e.is_saving=!1}}).catch(t=>{e.server_messages.type="error",e.server_messages.messages=t,e.is_saving=!1,console.log(t)})}function M(){Object.assign(e,c)}return(a,o)=>{const t=P;return m(),n("div",E,[s("div",F,[s("div",I,[s("div",J,[e.slack==""||e.slack==null?(m(),n("h5",z,i(a.$t("Add Payment Mode")),1)):(m(),n("h5",K,i(a.$t("Update Payment Mode")),1)),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:p,id:"close_btn"})]),s("div",L,[r(y(D),{"validation-schema":y(h),onSubmit:k,enctype:"multipart/form-data","initial-values":e,id:"frmPaymentMode"},{default:S(()=>[s("div",Q,[s("div",R,[r(v,{type:"text",name:"payment_mode_name",modelValue:e.payment_mode_name,"onUpdate:modelValue":o[0]||(o[0]=d=>e.payment_mode_name=d),label:"Payment Mode Name",required:!0},null,8,["modelValue"])]),s("div",G,[r(v,{type:"text",name:"payment_mode_name_ar",modelValue:e.payment_mode_name_ar,"onUpdate:modelValue":o[1]||(o[1]=d=>e.payment_mode_name_ar=d),label:"Payment Mode Name (Arabic)"},null,8,["modelValue"])]),s("div",H,[s("div",T,[s("div",W,[C(s("input",{class:"form-check-input me-2",type:"checkbox",role:"switch",id:"status",checked:"","onUpdate:modelValue":o[2]||(o[2]=d=>e.status=d)},null,512),[[B,e.status]]),s("label",X,i(a.$t("Active")),1)])])])]),e.server_messages.messages!=""?(m(),n("div",Y,[r(t,{server_messages:e.server_messages},null,8,["server_messages"])])):u("",!0),s("div",Z,[s("button",{type:"submit",class:"btn btn-primary",disabled:e.is_saving},[e.is_saving?(m(),x(q,{key:0,color:"white",size:"20px",class:"pt-2 pe-2"})):u("",!0),e.is_saving?(m(),n("span",ae,i(a.$t("Saving...")),1)):(m(),n("span",se,i(a.$t("Save")),1))],8,ee)])]),_:1},8,["validation-schema","initial-values"])])])])])}}};export{ce as default};
