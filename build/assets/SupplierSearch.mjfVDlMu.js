import{u as S,e as k,v as x,r as B,f as b,g as t,p as q,w,y as C,j as p,i as s,N as F,K as N,k as u,h as o,F as V,t as I,x as j,l as z}from"./index.7OFNPsHl.js";import{F as D}from"./vee-validate.esm.N3uz7Rsk.js";import"./index.esm.cd1bITNA.js";import{B as L}from"./BeatLoader.cb9i48GG.js";/* empty css                                                   *//* empty css                                                   */const A={class:"row"},E={class:"field-icon mb-4"},K={class:"form-field position-relative mb-0"},M=["placeholder"],T={class:"icon"},U={key:0},$={key:1,class:""},G={key:0,class:"recent-search"},H=["onClick"],Z={__name:"SupplierSearch",props:{selected_suppliers:{type:Array,default:[]},placeholder:{type:String,default:"Search Supplier"},is_button:{type:Boolean,default:!1}},emits:["selectSupplier"],setup(c,{emit:d}){S();const e=k({...{server_messages:{type:"",messages:""},is_listing:!1}});x(()=>e.search_query,_.debounce(()=>{h()},500));const r=c,m=r.placeholder;r.button_placeholder;const a=B([]);async function h(){e.is_listing=!0,e.search_query!=""?await axios.get("/api/v2/suppliers/all",{params:{search_query:e.search_query,except_suppliers:r.selected_suppliers,limit:5}}).then(l=>{a.value=l.data.data,e.is_listing=!1}).catch(l=>{e.server_messages.type="error",e.server_messages.messages=l,e.is_listing=!1,console.log(l)}):(a.value=[],e.is_listing=!1)}function f(){a.value=[]}const v=d;return(l,n)=>{const g=b("Icon");return t(),q(p(D),null,{default:w(()=>[s("div",A,[s("div",{class:C(c.is_button?"col-md-8":"col-md-12")},[s("div",E,[s("div",K,[N(s("input",{type:"search",class:"form-control form-control-solid",placeholder:p(m),"onUpdate:modelValue":n[0]||(n[0]=i=>e.search_query=i)},null,8,M),[[F,e.search_query]]),s("div",T,[u(g,{icon:"fa6-solid:magnifying-glass"})]),e.is_listing?(t(),o("div",U,[u(L,{color:"gray",size:"15px",class:"pt-2 pe-2"})])):(t(),o("div",$,[a.value.length>0?(t(),o("ul",G,[(t(!0),o(V,null,j(a.value,(i,y)=>(t(),o("li",{key:y},[s("a",{href:"javascript:;",onClick:O=>(v("selectSupplier",i),f())},[s("h2",null,I(i.name),1)],8,H)]))),128))])):z("",!0)]))])])],2)])]),_:1})}}};export{Z as default};
