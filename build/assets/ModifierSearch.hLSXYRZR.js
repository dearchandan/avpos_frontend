import{u as k,e as x,v as B,r as S,f as q,g as t,p as w,w as C,y as b,j as d,i as s,N as M,K as F,k as m,h as i,F as N,t as V,x as I,l as j}from"./index.GdMxdeuf.js";import{F as z}from"./vee-validate.esm.9aElOHQY.js";import"./index.esm.0vhAmrVd.js";import{B as D}from"./BeatLoader.czpWuXPY.js";/* empty css                                                   *//* empty css                                                   */const L={class:"row"},A={class:"field-icon mb-4"},E={class:"form-field position-relative mb-0"},K=["placeholder"],P={class:"icon"},T={key:0},U={key:1,class:""},$={key:0,class:"recent-search"},G=["onClick"],Z={__name:"ModifierSearch",props:{selected_modifiers:{type:Array,default:[]},placeholder:{type:String,default:"Search Modifiers"},is_button:{type:Boolean,default:!1}},emits:["selectModifier"],setup(l,{emit:u}){k();const e=x({...{server_messages:{type:"",messages:""},is_listing:!1}});B(()=>e.search_query,_.debounce(()=>{p()},500));const c=l,f=c.placeholder,a=S([]);async function p(){e.is_listing=!0,e.search_query!=""?await axios.get("/api/v2/modifier/all",{params:{search_query:e.search_query,except_modifiers:c.selected_modifiers,limit:5}}).then(o=>{a.value=o.data.data,e.is_listing=!1}).catch(o=>{e.server_messages.type="error",e.server_messages.messages=o,e.is_listing=!1,console.log(o)}):(a.value=[],e.is_listing=!1)}function h(){a.value=[]}const v=u;return(o,n)=>{const g=q("Icon");return t(),w(d(z),null,{default:C(()=>[s("div",L,[s("div",{class:b(l.is_button?"col-md-8":"col-md-12")},[s("div",A,[s("div",E,[F(s("input",{type:"search",class:"form-control form-control-solid",placeholder:d(f),"onUpdate:modelValue":n[0]||(n[0]=r=>e.search_query=r)},null,8,K),[[M,e.search_query]]),s("div",P,[m(g,{icon:"fa6-solid:magnifying-glass"})]),e.is_listing?(t(),i("div",T,[m(D,{color:"gray",size:"15px",class:"pt-2 pe-2"})])):(t(),i("div",U,[a.value.length>0?(t(),i("ul",$,[(t(!0),i(N,null,I(a.value,(r,y)=>(t(),i("li",{key:y},[s("a",{href:"javascript:;",onClick:J=>(v("selectProduct",r),h())},[s("h2",null,V(r.name),1)],8,G)]))),128))])):j("",!0)]))])])],2)])]),_:1})}}};export{Z as default};
