import{u as x,e as B,P as E,E as F,g as d,h as l,i as a,j as s,t as i,k as b,w as O,n as h,F as j,x as q,Q as D,K as I,p as v,l as g,q as T,_ as U}from"./index.ri7Y_V5F.js";import{_ as L}from"./VTextInput.o2P1IcEE.js";import{F as P}from"./vee-validate.esm.0La7AMjT.js";import{c as R,a as z}from"./index.esm.wERziE-M.js";import{C as G}from"./ClipLoader.4-rIzqtH.js";import{u as J}from"./global.f8Ro4KP-.js";import"./VTooltip.a7qKl6DY.js";/* empty css                                                   */const K={class:"modal hide",id:"addAreaModal",tabindex:"-1","aria-labelledby":"Add Table","aria-modal":"true",role:"dialog","data-bs-backdrop":"static","data-bs-keyboard":"false"},Q={class:"modal-dialog modal-md modal-dialog-centered"},H={class:"modal-content"},W={class:"modal-header"},X={key:0,class:"modal-title"},Y={key:1,class:"modal-title"},Z={class:"modal-body"},ee={class:"row"},ae={class:"col-md-12"},se={class:"white-card"},te={class:"row"},oe={class:"col-12"},de={class:"col-12"},ie=a("br",null,null,-1),le={class:"col-12 pt-3"},re={class:"form-field"},ne={for:"",class:"py-2"},ce={class:"form-check form-switch"},me={class:"form-check-label",for:"status"},_e={class:"mt-2 text-end"},ue=["disabled"],pe={key:1,class:"pt-0"},be={key:2,class:"pt-0"},Me={__name:"AddAreaForm",props:{show_add_area_modal:Boolean,edit_area_data:{type:[Array,Object]}},emits:["closeModal","closeAddAreaModal"],setup(f,{emit:y}){const{t:c}=x(),{dinein_area_suggestions:k}=J(),u={server_messages:{type:"",messages:""},is_submitting:!1,status:!0,name:"",area_slack:""},A=c("Area Name"),e=B({...u}),w=R({name:z().required(c("name is required",{name:c("Area Name")})).min(3,c("name must be at least n characters",{name:c("Area Name"),number:3}))}),m=E(f,"edit_area_data");F(()=>{_.isUndefined(m.value)||(e.name=m.value.name,e.status=m.value.status==1,e.area_slack=m.value.slack)});async function M(){e.is_submitting=!0;var t=new FormData;t.append("name",e.name),t.append("status",e.status),t.append("area_slack",e.area_slack);var r=e.area_slack!=""&&e.area_slack!=null?"/api/dinein_area/update":"/api/dinein_area/save";await axios.post(r,t).then(o=>{if(o.data.status_code==200)toast.success(o.data.msg),e.is_submitting=!1,document.getElementById("add_area_form").reset(),V();else{try{e.server_messages.type="error",e.server_messages.messages=JSON.parse(o.data.msg)}catch{e.server_messages.type="error",e.server_messages.messages=o.data.msg}e.is_submitting=!1}}).catch(o=>{e.server_messages.type="error",e.server_messages.messages=o,e.is_submitting=!1,console.log(o)})}const p=y;function V(){m.value=[],Object.assign(e,u),$("#addAreaModal").modal("hide"),p("closeAddAreaModal")}function S(){Object.assign(e,u),$("#addAreaModal").modal("hide"),p("closeModal")}const C=T(()=>U(()=>import("./ServerMessage.qNo4NwTp.js"),__vite__mapDeps([0,1,2])));return(t,r)=>{const o=L;return d(),l("div",K,[a("div",Q,[a("div",H,[a("div",W,[s(e).area_slack!=""&&s(e).area_slack!=null?(d(),l("h5",X,i(t.$t("Update Area")),1)):(d(),l("h5",Y,i(t.$t("Add Area")),1)),a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:S,id:"close_btn"})]),a("div",Z,[b(s(P),{"validation-schema":s(w),onSubmit:M,enctype:"multipart/form-data","initial-values":s(e),id:"add_area_form"},{default:O(()=>[a("div",ee,[a("div",ae,[a("div",se,[a("div",te,[a("div",oe,[b(o,{type:"text",name:"name",modelValue:s(e).name,"onUpdate:modelValue":r[0]||(r[0]=n=>s(e).name=n),label:s(A),required:!0,class:"mb-1"},null,8,["modelValue","label"])]),a("div",de,[h(i(t.$t("Suggestions"))+": ",1),ie,h(),(d(!0),l(j,null,q(s(k),(n,N)=>(d(),l("span",{class:"badge badge-pill rounded badge-info me-1",key:N},i(n),1))),128))]),a("div",le,[a("div",re,[a("label",ne,i(t.$t("Status")),1),a("div",ce,[I(a("input",{class:"form-check-input me-2",type:"checkbox",role:"switch",id:"status","onUpdate:modelValue":r[1]||(r[1]=n=>s(e).status=n)},null,512),[[D,s(e).status]]),a("label",me,i(t.$t("Active")),1)])])])])])])]),s(e).server_messages.messages!=""?(d(),v(s(C),{key:0,class:"py-3",server_messages:s(e).server_messages},null,8,["server_messages"])):g("",!0),a("div",_e,[a("button",{type:"submit",class:"btn btn-primary",disabled:s(e).is_submitting},[s(e).is_submitting?(d(),v(G,{key:0,color:"white",size:"20px",class:"pt-2 pe-2"})):g("",!0),s(e).is_submitting?(d(),l("span",pe,i(t.$t("Saving...")),1)):(d(),l("span",be,i(t.$t("Save")),1))],8,ue)])]),_:1},8,["validation-schema","initial-values"])])])])])}}};export{Me as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ServerMessage.qNo4NwTp.js","assets/index.ri7Y_V5F.js","assets/index.1t-AB2n6.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
