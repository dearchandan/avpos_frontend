import{u as k,b as w,d as p,r as N,v as S,bR as C,g as u,p as E,i as e,t as r,k as d,w as m,j as t,m as M,N as O,K as B,h as F,l as V,ac as x}from"./index.ri7Y_V5F.js";import{a as U,E as A,F as D}from"./vee-validate.esm.0La7AMjT.js";import{c as R}from"./index.esm.wERziE-M.js";const T={class:"modal hide cashier-layout",id:"OpenPriceModal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false"},j={class:"modal-dialog modal-dialog-centered"},I={class:"modal-content"},K={class:"modal-header modal-title"},q={class:"mb-0"},z=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),G={class:"modal-body"},H={class:"label"},J={class:"input-group mb-1"},L=["placeholder"],Q={class:"input-group-append"},W={class:"input-group-text h-100 form-control-solid"},X={class:"modal-btns"},Y={type:"submit",class:"btn btn-lg btn-primary"},se={__name:"OpenPriceModal",props:["product"],setup(b){const{t:n}=k(),h=w(),v=p(()=>h.user.currency.symbol),s=b,i=p(()=>{if(s.product&&s.product.product)return s.product.product.this_branch_inventory.initial_sale_price}),o=N(0),f=n("Enter New Price");S(()=>s.product,()=>{s.product&&s.product.product&&(o.value=s.product.product.this_branch_inventory.sale_price)}),n("Price Per Unit");const y=C(),g=R({});function P(){y.setOpenPrice(s.product.cart_id,_.round(parseFloat(o.value),2)),$("#OpenPriceModal").modal("hide")}return(c,a)=>(u(),E(x,{to:"body"},[e("div",T,[e("div",j,[e("div",I,[e("div",K,[e("h2",q,r(c.$t("Update Price")),1),z]),e("div",G,[d(t(D),{"validation-schema":t(g),onSubmit:a[2]||(a[2]=l=>P())},{default:m(()=>[d(t(U),{name:"price",label:"label"},{default:m(()=>[e("label",H,r(c.$t("Enter New Price")),1),e("div",J,[B(e("input",{class:"form-control form-control-solid",type:"number","onUpdate:modelValue":a[0]||(a[0]=l=>M(o)?o.value=l:null),placeholder:t(f)},null,8,L),[[O,t(o)]]),e("div",Q,[e("span",W,r(t(v)),1)])])]),_:1}),d(t(A),{name:"price",as:"div",class:"error"}),t(o)!=t(i)?(u(),F("a",{key:0,href:"#",class:"mt-3 badge badge-primary",onClick:a[1]||(a[1]=l=>o.value=t(i))},"Original Price: "+r(t(i)),1)):V("",!0),e("div",X,[e("button",Y,r(c.$t("Apply")),1)])]),_:1},8,["validation-schema"])])])])])]))}};export{se as default};
