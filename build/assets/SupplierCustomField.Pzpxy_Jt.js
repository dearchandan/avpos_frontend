import{u as D,b as N,d as T,o as x,r as d,e as O,g as r,h as n,i as e,t as o,p as V,F as I,x as L,k as w,l as R,j as P,I as j,q,_ as G}from"./index.ri7Y_V5F.js";import{_ as J}from"./ActionButtonGroup.UoCDvTnh.js";import{_ as U}from"./ListingSkeleton.PW5leU6x.js";/* empty css                                                   */const z={class:"row pb-4 align-items-center justify-content-between"},W={class:"col-auto"},Y={class:"pt-2"},H={class:"col-auto text-end"},K={key:1,class:"table-responsive"},Q={class:"table table-list-data table-hover"},X={class:"bg-light"},Z={class:"fw-bold"},ee={class:"fw-bold"},se={width:"10%",class:"fw-bold"},te={width:"5%",class:"fw-bold"},ae={width:"5%",scope:"col",class:"text-end"},oe={class:"form-feild"},le={class:"form-check form-switch form-switch-2"},ie=["onChange","checked"],re={key:0,class:"text-end"},de={key:1},ne={class:"text-center py-3",colspan:"5"},he={__name:"SupplierCustomField",props:["supplier_slack"],setup(g){const{isAuthorized:v}=j(),b=q(()=>G(()=>import("./AddSupplierCustomField.C-euC7JW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),{t:c}=D(),C=N();T(()=>C.user.currency.symbol),x(()=>{S(),m()});const u=d({write:!1,delete:!1});function S(){u.value={write:v("A_WRITE_CUSTOMER"),delete:v("A_DELETE_CUSTOMER")}}const F={server_messages:{type:"",messages:""},is_listing:!1,search_query:d("")};c("search orders by order no., amount");const a=O({...F}),A=g,p=d(!1),y=d([]);function k(s=""){y.value=s,p.value=!0}function $(){p.value=!1,m()}const _=d(!1),h=d([]);async function m(){_.value=!0,await axios.get("/api/supplier/custom_fields",{params:{supplier_slack:A.supplier_slack}}).then(s=>{h.value=s.data.data,_.value=!1}).catch(s=>{a.server_messages.type="error",a.server_messages.messages=s,_.value=!1,console.log(s)})}async function E(s){var l=new FormData;l.append("slack",s),await axios.post("/api/supplier/custom_field/update_status",l).then(t=>{if(t.data.status_code==200)toast.success(t.data.msg),m();else try{a.server_messages.type="error",a.server_messages.messages=JSON.parse(t.data.msg)}catch{a.server_messages.type="error",a.server_messages.messages=t.data.msg}}).catch(t=>{a.server_messages.type="error",a.server_messages.messages=t,console.log(t)})}async function B(s){var l=!1;await Swal.fire({title:c("Do you want to delete this item?"),showCancelButton:!0,confirmButtonText:c("Yes, Delete"),confirmButtonColor:"#d33",cancelButtonText:c("Cancel")}).then(t=>{t.isConfirmed&&(l=!0)}),l&&await axios.post("/api/supplier/custom_field/delete",{slack:s}).then(t=>{if(t.data.status_code==200)Swal.fire(t.data.msg),m();else try{a.server_messages.type="error",a.server_messages.messages=JSON.parse(t.data.msg)}catch{a.server_messages.type="error",a.server_messages.messages=t.data.msg}}).catch(t=>{a.server_messages.type="error",a.server_messages.messages=t,console.log(t)})}return(s,l)=>{const t=U,f=J;return r(),n("div",null,[e("div",z,[e("div",W,[e("h5",Y,o(s.$t("Custom Fields")),1)]),e("div",H,[e("a",{class:"btn btn-light-primary2 btn-sm",href:"#","data-bs-toggle":"modal",onClick:l[0]||(l[0]=i=>k()),"data-bs-target":"#addSupplierCustomFieldModal"}," + "+o(s.$t("Add Custom Field")),1)])]),_.value?(r(),V(t,{key:0})):(r(),n("div",K,[e("table",Q,[e("thead",X,[e("tr",null,[e("th",Z,o(s.$t("Name")),1),e("th",ee,o(s.$t("Value")),1),e("th",se,o(s.$t("Created At")),1),e("th",te,o(s.$t("Status")),1),e("th",ae,o(s.$t("Action")),1)])]),e("tbody",null,[h.value!=""?(r(!0),n(I,{key:0},L(h.value,(i,M)=>(r(),n("tr",{key:M},[e("td",null,o(i.field_name),1),e("td",null,o(i.field_value),1),e("td",null,o(i.created_at_label),1),e("td",null,[e("div",oe,[e("div",le,[e("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"Status_id",onChange:ce=>E(i.slack),checked:i.status==1},null,40,ie)])])]),u.value.write||u.value.delete?(r(),n("td",re,[w(f,{permissions:u.value,onDelete:B,onEditModal:k,slack:i.slack,edit_modal_data:i,edit_modal_target:"#addSupplierCustomFieldModal"},null,8,["permissions","slack","edit_modal_data"])])):R("",!0)]))),128)):(r(),n("tr",de,[e("td",ne,o(s.$t("No Data Found")),1)]))])])])),w(P(b),{show_add_supplier_custom_field_modal:p.value,onCloseAddSupplierCustomFieldModal:$,supplier_slack:g.supplier_slack,edit_data:y.value},null,8,["show_add_supplier_custom_field_modal","supplier_slack","edit_data"])])}}};export{he as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddSupplierCustomField.C-euC7JW.js","assets/ServerMessage.qNo4NwTp.js","assets/index.ri7Y_V5F.js","assets/index.1t-AB2n6.css","assets/vee-validate.esm.0La7AMjT.js","assets/index.esm.wERziE-M.js","assets/VTextInput.o2P1IcEE.js","assets/VTooltip.a7qKl6DY.js","assets/ClipLoader.4-rIzqtH.js","assets/ClipLoader.7xz7y6gZ.css","assets/BeatLoader.5j6ku4bW.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
