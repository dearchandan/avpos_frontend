import{u as L,b as j,d as O,r as c,e as J,o as K,v as R,g as n,p as C,w as v,f as F,i as e,k as r,n as $,t as a,K as U,N as Y,j as f,h as d,F as z,x as G,l as y,O as H,q as Q,_ as W}from"./index.7OFNPsHl.js";import{_ as X}from"./DefaultLayout.nvkZ4UhM.js";import{_ as Z}from"./ListingSkeleton.iExoV4hO.js";import{_ as ee}from"./PaginateLimit.Xv-qfeqj.js";import"./vue-datepicker.sD5zgpde.js";/* empty css                                                   */import"./ClipLoader.1qNfpKDH.js";/* empty css                                                   */const te={class:"header-nav-wrap"},se={class:"row align-items-center"},ae={class:"col-auto"},oe={class:"header-back-link"},ne={class:"col-auto"},ie={class:"fw-bold"},le={class:"content"},de={class:"page-heading"},ce={class:"row align-items-center justify-content-end"},re={class:"col-auto"},_e={class:"form-field page-heading-search-field mb-0"},ue={class:"field-icon"},he=["placeholder"],me={class:"icon"},pe={class:"col-auto"},ge={key:1,class:"table-responsive"},ve={class:"table table-list-data table-hover"},fe={class:"bg-light"},ye={scope:"col"},be={scope:"col"},we={scope:"col",width:"10%"},ke={scope:"col",width:"10%",class:"text-end"},Ae={class:"fw-bold highlighted-list-item"},Ce={key:0},Fe={key:1},$e={key:0},Se={key:1},Ne={key:0,class:"badge badge-success"},Be={key:1,class:"badge badge-danger"},De={class:"text-end"},qe={key:0,class:"dropdown"},Me={class:"btn btn-icon btn-sm btn-light dropdown-toggle arrow-none",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Ve={class:"dropdown-menu"},xe=["onClick"],Ie=["onClick"],Pe={key:1},Te={class:"text-center py-3",colspan:"7"},Ee={class:"data-footer"},Le={class:"row align-items-center justify-content-between"},je={class:"col-auto"},Oe={class:"col-auto"},We={__name:"additional_fee",setup(Je){const{t:h}=L(),S=Q(()=>W(()=>import("./AddAdditionalFee.-wzxEqLU.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),N=j(),B=O(()=>N.user.currency.symbol),m=c(!1),b=c([]);function w(t=""){b.value=t,m.value=!0}function D(){m.value=!1,u()}c("");const q={server_messages:{type:"",messages:""},is_listing:!1,search_query:c("")},M=h("Search by name, type.."),s=J({...q});K(()=>{u()}),R(()=>s.search_query,_.debounce(()=>{u()},500));const p=c([]),g=c([]);async function u(t=1){s.is_listing=!0,await axios.get("/api/additional_fees",{params:{page:t,paginate_limit:k.value,search_query:s.search_query}}).then(l=>{p.value=l.data.data,g.value=l.data.pagination,s.is_listing=!1}).catch(l=>{s.server_messages.type="error",s.server_messages.messages=l,s.is_listing=!1,console.log(l)})}const k=c();async function V(t){k.value=t,await u()}async function x(t){var l=!1;await Swal.fire({title:h("Do you want to delete this AdditionalFee?"),showCancelButton:!0,confirmButtonText:h("Yes, Delete"),confirmButtonColor:"#d33",cancelButtonText:h("Cancel")}).then(o=>{o.isConfirmed&&(l=!0)}),l&&await axios.post("/api/additional_fee/delete",{slack:t}).then(o=>{if(o.data.status_code==200)Swal.fire(o.data.msg),u();else try{s.server_messages.type="error",s.server_messages.messages=JSON.parse(o.data.msg)}catch{s.server_messages.type="error",s.server_messages.messages=o.data.msg}}).catch(o=>{s.server_messages.type="error",s.server_messages.messages=o,console.log(o)})}return(t,l)=>{const o=F("Icon"),A=F("router-link"),I=Z,P=X;return n(),C(P,null,{subheader:v(()=>[e("div",te,[e("div",se,[e("div",ae,[e("div",oe,[r(A,{class:"text-primary",to:"/settings"},{default:v(()=>[r(o,{icon:"fa6-solid:chevron-left"}),$(" "+a(t.$t("Settings")),1)]),_:1})])]),e("div",ne,[e("h5",ie,a(t.$t("Additional Fee")),1)])])])]),default:v(()=>[e("div",le,[e("div",de,[e("div",ce,[e("div",re,[e("div",_e,[e("div",ue,[U(e("input",{type:"search",class:"form-control form-control-sm form-control-solid",placeholder:f(M),"onUpdate:modelValue":l[0]||(l[0]=i=>s.search_query=i)},null,8,he),[[Y,s.search_query]]),e("div",me,[r(o,{icon:"fa6-solid:magnifying-glass"})])])])]),e("div",pe,[e("a",{href:"#",class:"btn btn-sm btn-light-primary2","data-bs-toggle":"modal",onClick:w,"data-bs-target":"#addAdditionalFeeModal"}," + "+a(t.$t("New Additional Fee")),1)])])]),s.is_listing?(n(),C(I,{key:0})):(n(),d("div",ge,[e("table",ve,[e("thead",fe,[e("tr",null,[e("th",ye,a(t.$t("Name")),1),e("th",be,a(t.$t("Value")),1),e("th",we,a(t.$t("Active")),1),e("th",ke,a(t.$t("Action")),1)])]),e("tbody",null,[p.value!=""?(n(!0),d(z,{key:0},G(p.value,(i,T)=>(n(),d("tr",{key:T},[e("td",null,[e("div",null,[e("span",Ae,a(i.name),1),i.name_ar!=""?(n(),d("br",Ce)):y("",!0),i.name_ar!=""?(n(),d("span",Fe,a(i.name_ar),1)):y("",!0)])]),e("td",null,[$(a(i.value)+" ",1),i.type==1?(n(),d("span",$e,"%")):(n(),d("span",Se,a(B.value),1))]),e("td",null,[i.status==1?(n(),d("span",Ne,"Active")):(n(),d("span",Be,"Inactive"))]),e("td",De,[i.merchant_id>0?(n(),d("div",qe,[e("button",Me,[r(o,{icon:"fa6-solid:ellipsis-vertical"})]),e("ul",Ve,[e("li",null,[e("a",{class:"dropdown-item",href:"#","data-bs-toggle":"modal",onClick:E=>w(i),"data-bs-target":"#addAdditionalFeeModal"},a(t.$t("Edit")),9,xe)]),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:E=>x(i.slack)},a(t.$t("Delete")),9,Ie)])])])):y("",!0)])]))),128)):(n(),d("tr",Pe,[e("td",Te,a(t.$t("No Data Found")),1)]))])])])),e("div",Ee,[e("div",Le,[e("div",je,[r(ee,{onPaginate_limit_update:V,pagination:g.value},null,8,["pagination"])]),e("div",Oe,[r(f(H),{data:g.value,limit:5,onPaginationChangePage:u},null,8,["data"])])])])]),r(f(S),{show_add_additional_fee_modal:m.value,onCloseAddAdditionalFeeModal:D,edit_data:b.value},null,8,["show_add_additional_fee_modal","edit_data"])]),_:1})}}};export{We as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddAdditionalFee.-wzxEqLU.js","assets/index.7OFNPsHl.js","assets/index.1t-AB2n6.css","assets/vee-validate.esm.N3uz7Rsk.js","assets/index.esm.cd1bITNA.js","assets/VTextInput.VtSvZjuc.js","assets/VTooltip.n3SV8A0p.js","assets/ClipLoader.1qNfpKDH.js","assets/ClipLoader.7xz7y6gZ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
