import{b as g,bR as k,d as w,T as C,e as D,r as x,g as a,p as F,i as s,j as e,h as l,l as n,t as d,K as u,bG as _,F as M,x as S,ac as V,y as B}from"./index.ri7Y_V5F.js";import{_ as N,a as P}from"./cashier.qRmR0z-A.js";import"./index.ObOH00pI.js";import"./VMultiSelect.3zUL7lik.js";import"./vee-validate.esm.0La7AMjT.js";const R={class:"modal fade cashier-layout p-0",id:"discountModal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false"},U={class:"modal-dialog modal modal-dialog-centered"},A={key:0,class:"modal-content"},L={class:"modal-header"},T={class:"modal-title"},j={class:"row gx-2"},z={key:0,class:"col-auto veg-icon"},E=s("img",{src:N,alt:""},null,-1),G=[E],K={key:1,class:"col-auto nonveg-icon"},O=s("img",{src:P,alt:""},null,-1),Y=[O],q={class:"col"},H={class:"modal-body"},I={class:"row gx-5"},J={key:0,class:B("col-md-12")},Q={class:"row discount-wrap"},W={class:"radio-wrap mb-3"},X={class:"col-md-6 mb-3"},Z={class:"discount_item"},ss=["value","onUpdate:modelValue"],ts={class:"text"},os={class:"mb-1 fw-bold"},es={key:0,class:"pt-1 fw-bold"},as={key:1,class:"pt-1 fw-bold"},ds={class:"total-wrap"},ls={class:"row align-items-center"},is={class:"col-md-12"},hs={__name:"SelectDiscount",props:["product"],emits:["closeModifierModal"],setup(m,{emit:ns}){const p=g(),h=k(),v=w(()=>p.user.currency.symbol),b=m,{product:t,openmodal:cs}=C(b);D({modifiers:x([])});function r(){$("#discountModal").modal("hide")}function y(){h.addProductDiscount(t.value.cart_id,t.value.discount),r()}return(c,i)=>(a(),F(V,{to:"body"},[s("div",R,[s("div",U,[e(t)?(a(),l("div",A,[s("div",L,[s("div",T,[s("div",j,[e(t).dietary==1?(a(),l("div",z,G)):n("",!0),e(t).dietary==2?(a(),l("div",K,Y)):n("",!0),s("div",q,[s("h2",null,d(e(t).name),1)])])]),s("button",{type:"button",class:"btn-close",onClick:i[0]||(i[0]=o=>r()),"aria-label":"Close"})]),s("div",H,[s("div",I,[e(t).product.discounts.length>0?(a(),l("div",J,[s("div",Q,[s("h4",null,d(c.$t("Discounts")),1),s("div",W,[s("label",null,[u(s("input",{type:"radio",name:"discounts",value:"","onUpdate:modelValue":i[1]||(i[1]=o=>e(t).discount=o)},null,512),[[_,e(t).discount]]),s("span",null,d(c.$t("No Discount")),1)])]),(a(!0),l(M,null,S(e(t).product.discounts,o=>(a(),l("div",X,[s("div",Z,[s("label",null,[u(s("input",{type:"radio",name:"discounts",value:o,"onUpdate:modelValue":f=>e(t).discount=f},null,8,ss),[[_,e(t).discount]]),s("span",null,[s("div",ts,[s("h5",os,d(o.name),1),o.type==1?(a(),l("div",es,d(o.value)+" "+d(o.type_text)+" off ",1)):n("",!0),o.type==2?(a(),l("div",as," Flat "+d(o.value)+" "+d(e(v))+" OFF ",1)):n("",!0)])])])])]))),256))])])):n("",!0)]),s("div",ds,[s("div",ls,[s("div",is,[s("a",{href:"#",class:"btn btn-lg btn-primary w-100",onClick:i[2]||(i[2]=o=>y())},d(c.$t("APPLY")),1)])])])])])):n("",!0)])])]))}};export{hs as default};
